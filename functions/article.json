{
  "article": {
    "id": 105040,
    "post_type": "Article",
    "title": "Goè£½ã®å…¨æ–‡æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³Omochiã‚’ä½œã£ãŸ.",
    "slug": "7e2c67d8406f0d",
    "comments_count": 0,
    "liked_count": 178,
    "body_letters_count": 22618,
    "article_type": "tech",
    "emoji": "ğŸ˜Š",
    "is_suspending_private": false,
    "published_at": "2022-07-25T11:45:25.013+09:00",
    "body_updated_at": "2022-07-25T11:45:25.013+09:00",
    "source_repo_updated_at": "2022-07-25T11:45:25.013+09:00",
    "pinned": false,
    "path": "/yukiyada/articles/7e2c67d8406f0d",
    "body_html": "\u003ch1 id=\"1.%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003e\n\u003ca class=\"header-anchor-link\" href=\"#1.%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\" aria-hidden=\"true\"\u003e\u003c/a\u003e 1.ã¯ã˜ã‚ã«\u003c/h1\u003e\n\u003cp\u003eè†¨å¤§ãªé‡ã®é›»å­ãƒ‡ãƒ¼ã‚¿ã‹ã‚‰ç›®çš„ã¨ãªã‚‹ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ãƒ»æŠ½å‡ºã™ã‚‹æƒ…å ±æ¤œç´¢ã€‚ãã®æŠ€è¡“ã¯åºƒãæ™®åŠã—ã€å¤šãã®äººã€…ãŒã€æ§˜ã€…ãªå ´é¢ã§ãã®æ©æµã‚’å—ã‘ã¦ã„ã¾ã™ã€‚\u003ca href=\"https://google.com/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003eGoogle\u003c/a\u003eã‚„\u003ca href=\"https://www.bing.com/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003eBing\u003c/a\u003eã‚’ã¯ã˜ã‚ã¨ã—ãŸã€ä¸–ã®ä¸­ã«å¤§ããªã‚¤ãƒ³ãƒ‘ã‚¯ãƒˆã‚’ä¸ãˆã‚‹Webæ¤œç´¢ãŒãã®ä»£è¡¨ä¾‹ã§ã™ãŒã€ç‰©ä»¶æ¤œç´¢ã‚„è«–æ–‡æ¤œç´¢ã€ãƒ¡ãƒ¼ãƒ«æ¤œç´¢ãªã©ãã®å¿œç”¨ã¯æ§˜ã€…ã§ã™ã€‚\u003c/p\u003e\n\u003cp\u003eã•ã¦ã€ä»Šå›å–ã‚Šçµ„ã‚“ã ã®ã¯ã€Goã«ã‚ˆã‚‹è»¢ç½®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚’ç”¨ã„ãŸå…¨æ–‡æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³ã®ã‚¹ã‚¯ãƒ©ãƒƒãƒå®Ÿè£…ã§ã™ã€‚ç ”ç©¶ã§è‡ªç„¶è¨€èªå‡¦ç†ã‚’å­¦ã‚“ã ã“ã¨ã‚’ãã£ã‹ã‘ã«ã€æƒ…å ±æ¤œç´¢ã‚„è»¢ç½®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã¨ã„ã£ãŸãƒˆãƒ”ãƒƒã‚¯ã«å¼·ã„èˆˆå‘³ãŒæ¹§ã„ãŸã®ã§ã€Elasticsearchç­‰ã«ã¯é ¼ã‚‰ãšã€ã‚¼ãƒ­ã‹ã‚‰å®Ÿè£…ã‚’è¡Œã„ã¾ã—ãŸã€‚ä»¥ä¸‹ã€ãƒªãƒã‚¸ãƒˆãƒªã«ãªã‚Šã¾ã™ã€‚\u003c/p\u003e\n\u003cp\u003e\u003cspan class=\"embed-block zenn-embedded zenn-embedded-card\"\u003e\u003ciframe id=\"zenn-embedded__47ab03395ee96\" src=\"https://embed.zenn.studio/card#zenn-embedded__47ab03395ee96\" data-content=\"https%3A%2F%2Fgithub.com%2FYadaYuki%2Fomochi%2F\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\"\u003e\u003c/iframe\u003e\u003c/span\u003e\u003ca href=\"https://github.com/YadaYuki/omochi/\" style=\"display:none\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003ehttps://github.com/YadaYuki/omochi/\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003eæœ¬è¨˜äº‹ã§ã¯ã€Omochiã®è¨­è¨ˆãƒ»å®Ÿè£…ã«é–¢ã™ã‚‹èª¬æ˜ã‚’è¡Œãªã£ã¦ã„ãã¾ã™ã€‚\u003c/p\u003e\n\u003ch1 id=\"2.%E8%BB%A2%E7%BD%AE%E3%82%A4%E3%83%B3%E3%83%87%E3%83%83%E3%82%AF%E3%82%B9%E5%9E%8B%E3%83%BB%E5%85%A8%E6%96%87%E6%A4%9C%E7%B4%A2%E3%82%A8%E3%83%B3%E3%82%B8%E3%83%B3omochi\"\u003e\n\u003ca class=\"header-anchor-link\" href=\"#2.%E8%BB%A2%E7%BD%AE%E3%82%A4%E3%83%B3%E3%83%87%E3%83%83%E3%82%AF%E3%82%B9%E5%9E%8B%E3%83%BB%E5%85%A8%E6%96%87%E6%A4%9C%E7%B4%A2%E3%82%A8%E3%83%B3%E3%82%B8%E3%83%B3omochi\" aria-hidden=\"true\"\u003e\u003c/a\u003e 2.è»¢ç½®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹å‹ãƒ»å…¨æ–‡æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³Omochi\u003c/h1\u003e\n\u003cp\u003eãƒªãƒã‚¸ãƒˆãƒªã®\u003ca href=\"https://github.com/YadaYuki/omochi/#readme\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003eREADME.md\u003c/a\u003eã«ã‚‚è¨˜è¼‰ãŒã‚ã‚Šã¾ã™ãŒã€ä»Šå›å®Ÿè£…ã—ãŸå…¨æ–‡æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³Omochiã¯ä»¥ä¸‹ã®ã‚ˆã†ãªç‰¹å¾´ã‚’æŒã¡ã¾ã™ã€‚\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eè»¢ç½®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚’ç”¨ã„ãŸå…¨æ–‡æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³.\u003c/li\u003e\n\u003cli\u003eRESTful API çµŒç”±ã§ã€äº‹å‰ã«ç™»éŒ²ã—ãŸæ–‡æ›¸ç¾¤ã‚’å¯¾è±¡ã«æ¤œç´¢ãŒå¯èƒ½\u003c/li\u003e\n\u003cli\u003eè¤‡æ•°å˜èªã‚’ç”¨ã„ãŸæ¤œç´¢ã¯ã€ANDæ¤œç´¢ãƒ»ORæ¤œç´¢ã«å¯¾å¿œ\u003c/li\u003e\n\u003cli\u003eç™»éŒ²å¯èƒ½ãªè¨€èªï¼šæ—¥æœ¬èª, è‹±èª\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eã“ã“ã§ã€å…¨æ–‡æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³Omochiã®å†…éƒ¨æ§‹é€ ã‚’æ¦‚è¦³ã™ã‚‹ãŸã‚ã«ã€æ¦‚è¦å›³ã‚’è¦‹ã¦ã¿ã¾ã—ã‚‡ã†.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"https://user-images.githubusercontent.com/57289763/179801992-6963b38e-4d3b-44d1-9612-e91c374d194c.png\" alt=\"Omochiã®æ¦‚è¦³å›³\" loading=\"lazy\" class=\"md-img\"\u003e\u003c/p\u003e\n\u003cp\u003eOmochiã¯\u003cstrong\u003eäº‹å‰ç™»éŒ²ã•ã‚ŒãŸæ–‡æ›¸ã®ä¸­ã‹ã‚‰ã€æ¤œç´¢ãƒ¯ãƒ¼ãƒ‰ãŒå«ã¾ã‚Œã‚‹æ–‡æ›¸ã®ã¿æŠ½å‡ºã—ã€æ¤œç´¢ãƒ¯ãƒ¼ãƒ‰ã®é–¢é€£åº¦ã«å¿œã˜ã¦ä¸¦ã³æ›¿ãˆãŸçµæœã‚’è¿”ã™\u003c/strong\u003eã¨ã„ã†éå¸¸ã«ã‚·ãƒ³ãƒ—ãƒ«ãªå…¨æ–‡æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³ã§ã™ã€‚\u003c/p\u003e\n\u003cp\u003eæ¦‚è¦å›³ã«ã‚ã‚‹ã‚ˆã†ã«ã€\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\"Toy Story\"\u003c/li\u003e\n\u003cli\u003e\"The Wolf of Wall Street\"\u003c/li\u003e\n\u003cli\u003e\"The NeverEnding Story\"\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eã¨ã„ã†3ã¤ã®æ˜ ç”»ã‚¿ã‚¤ãƒˆãƒ«ãŒæ–‡æ›¸ã¨ã—ã¦äº‹å‰ã«ç™»éŒ²ã•ã‚Œã¦ã„ãŸå ´åˆã€\u003cstrong\u003e[\"toy\"]ã¨ã„ã†æ¤œç´¢ãƒ¯ãƒ¼ãƒ‰ã§æ¤œç´¢ã‚’è¡Œã†ã¨\"toy\"ã¨ã„ã†å˜èªã‚’å«ã‚€[\"Toy Story\"]ã¨ã„ã†æ¤œç´¢çµæœã‚’å¾—ã‚‹ã“ã¨ãŒå¯èƒ½\u003c/strong\u003eã§ã™ã€‚(å¤§æ–‡å­—ãƒ»å°æ–‡å­—ã¯åŒºåˆ¥ã—ãªã„)\u003c/p\u003e\n\u003cp\u003eæ›´ã«ã€æ¦‚è¦å›³ã‹ã‚‰ã‚ã‹ã‚‹é€šã‚Šã€æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³Omochiã¯\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eæ–‡æ›¸ã®ç™»éŒ²(è»¢ç½®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã®ä½œæˆç­‰ã‚‚å«ã‚€)ã‚’è¡Œã†\u003cstrong\u003eã‚¤ãƒ³ãƒ‡ã‚¯ã‚µ(Indexer)\u003c/strong\u003e\n\u003c/li\u003e\n\u003cli\u003eæƒ…å ±è¦æ±‚ã«å¯¾ã™ã‚‹æ–‡æ›¸ã®æ¤œç´¢å‡¦ç†ã‚’è¡Œã†\u003cstrong\u003eã‚µãƒ¼ãƒãƒ£ãƒ¼(Searcher)\u003c/strong\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eã¨ã„ã†å¤§ããåˆ†ã‘ã¦2ã¤ã®ãƒ‘ãƒ¼ãƒ„ã‹ã‚‰æ§‹æˆã•ã‚Œã¦ã„ã‚‹ã“ã¨ãŒã‚ã‹ã‚Šã¾ã™ã€‚\u003c/p\u003e\n\u003cp\u003eæ¬¡ç« ä»¥é™ã§ã¯ã€Omochiã®å…¨ä½“çš„ãªè¨­è¨ˆã«åŠ ãˆã€ãã‚Œãã‚Œã®ãƒ‘ãƒ¼ãƒ„ã«å¯¾ã™ã‚‹å®Ÿè£…ã®è©³ç´°(ã‚¤ãƒ³ãƒ‡ã‚¯ã‚µãƒ»ã‚µãƒ¼ãƒãƒ£)ã‚’è¦‹ã¦ã„ãã¾ã—ã‚‡ã†.\u003c/p\u003e\n\u003ch1 id=\"3-omochi%E3%81%AE%E6%8A%80%E8%A1%93%E9%81%B8%E5%AE%9A\"\u003e\n\u003ca class=\"header-anchor-link\" href=\"#3-omochi%E3%81%AE%E6%8A%80%E8%A1%93%E9%81%B8%E5%AE%9A\" aria-hidden=\"true\"\u003e\u003c/a\u003e 3 Omochiã®æŠ€è¡“é¸å®š\u003c/h1\u003e\n\u003cp\u003eã‚¿ã‚¤ãƒˆãƒ«ã«ã‚‚ã‚ã‚‹é€šã‚Šã€æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³Omochiã¯é–‹ç™ºè¨€èªã¨ã—ã¦ã¯\u003ca href=\"https://go.dev/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003e\u003cstrong\u003eGo\u003c/strong\u003e\u003c/a\u003eã‚’ç”¨ã„ã¦ã„ã¾ã™ã€‚å€‹äººé–‹ç™ºãªã®ã§ã€ä½¿ã£ã¦ã¿ãŸã‹ã£ãŸã¨ã„ã†èƒŒæ™¯ã‚‚å¤§ãã„ã§ã™ãŒã€æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³ã®ã‚ˆã†ã«ã€å½¢æ…‹ç´ è§£æã‚„é–¢é€£æ€§ã®ã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°ãªã©ã€\u003cstrong\u003eå®Ÿè¡Œã™ã‚‹ãƒ­ã‚¸ãƒƒã‚¯ãŒè¤‡é›‘ã§ã‚ã‚Šã€é€Ÿåº¦ãŒæ±‚ã‚ã‚‰ã‚Œã‚‹ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³\u003c/strong\u003eã¨\u003cstrong\u003eGoã®æŒã¤é«˜é€Ÿæ€§\u003c/strong\u003eã¯ãªã‹ãªã‹ç›¸æ€§ãŒè‰¯ã„ã®ã§ã¯ãªã„ã®ã§ã—ã‚‡ã†ã‹ã€‚\u003c/p\u003e\n\u003cp\u003eã¾ãŸã€å¾Œã®ç« ã§ã‚‚è§¦ã‚Œã¾ã™ãŒã€\u003cstrong\u003eãƒ‡ãƒ¢ã§ç”¨ã„ã‚‹ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿(æ•°åƒ ~ æ•°ä¸‡ä»¶ç¨‹åº¦ã®æ–‡æ›¸ãƒ‡ãƒ¼ã‚¿)ã‚’æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³ã«ç™»éŒ²ã™ã‚‹å‡¦ç†(\u003ca href=\"https://github.com/YadaYuki/omochi/blob/master/cmd/seeds/ja/seed.go\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003eseed.go\u003c/a\u003e)ã§ã¯ã€ã‚´ãƒ«ãƒ¼ãƒãƒ³ã«ã‚ˆã‚‹ä¸¦è¡Œå‡¦ç†ã‚’ç”¨ã„ã¦ã„ã¾ã™\u003c/strong\u003eã€‚ãã®ãŸã‚ã€Goã®\u003cstrong\u003eæ–°ãŸãªã‚¹ãƒ¬ãƒƒãƒ‰(ã‚´ãƒ«ãƒ¼ãƒãƒ³)ã®ä½œæˆã¨ä½œæˆã—ãŸè¤‡æ•°ã®ã‚´ãƒ«ãƒ¼ãƒãƒ³ã®ç®¡ç†ã‚’ã‚·ãƒ³ãƒ—ãƒ«ã«è¨˜è¿°ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ç‚¹\u003c/strong\u003eã‚‚éå¸¸ã«é­…åŠ›çš„ã§ã‚ã‚‹ã¨æ„Ÿã˜ã¾ã—ãŸã€‚\u003c/p\u003e\n\u003cp\u003eãã—ã¦ã€å‘¨è¾ºãƒ„ãƒ¼ãƒ«ã¨ã—ã¦ã¯ä»¥ä¸‹ã‚’ç”¨ã„ã¦ã„ã¾ã™ã€‚\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"https://pkg.go.dev/net/http\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003enet/http\u003c/a\u003e + \u003ca href=\"https://github.com/go-chi/chi\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003echi\u003c/a\u003e (Web application server)\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://www.docker.com/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003eDocker\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"https://mariadb.com/kb/ja/mariadb/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003eMariadb\u003c/a\u003e(MySQL)\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eãªãŠã€ä»Šå›Omochiã§ã¯ORMã¨ã—ã¦ã€Facebookè£½ã®\u003ca href=\"https://entgo.io/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003eent\u003c/a\u003eã‚’æ¡ç”¨ã—ã¾ã—ãŸã€‚entã«ã¯\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003egoã®ã‚³ãƒ¼ãƒ‰ã«ã‚ˆã‚‹ã‚¹ã‚­ãƒ¼ãƒ(ãƒ†ãƒ¼ãƒ–ãƒ«)ã®å®šç¾©ãŒå¯èƒ½\u003c/li\u003e\n\u003cli\u003eè‡ªå‹•ç”Ÿæˆã•ã‚Œã‚‹é™çš„å‹ä»˜ã‘ã•ã‚ŒãŸé–¢æ•°ã«ã‚ˆã£ã¦ã€SQLç­‰ã‚’ä¸€åˆ‡æ›¸ã‹ãšã€DBã«å¯¾ã™ã‚‹æ“ä½œãŒã§ãã‚‹\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eç­‰ã®ãƒ¡ãƒªãƒƒãƒˆãŒã‚ã‚Šã€DBã«å¯¾ã™ã‚‹æ“ä½œã‚’ä»¥ä¸‹ã®ã‚ˆã†ãªã‚³ãƒ¼ãƒ‰ã§è¨˜è¿°ã™ã‚‹ã“ã¨ãŒå¯èƒ½ã§ã€ã¨ã¦ã‚‚ä¾¿åˆ©ã§ã™ã€‚(\u003ca href=\"https://entgo.io/docs/getting-started#create-your-first-entity\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003eå…¬å¼Document\u003c/a\u003eã‚ˆã‚Š)\u003c/p\u003e\n\u003cdiv class=\"code-block-container\"\u003e\u003cpre class=\"language-go\"\u003e\u003ccode class=\"language-go\"\u003e\u003cspan class=\"token keyword\"\u003efunc\u003c/span\u003e \u003cspan class=\"token function\"\u003eCreateUser\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ectx context\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eContext\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e client \u003cspan class=\"token operator\"\u003e*\u003c/span\u003eent\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eClient\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token operator\"\u003e*\u003c/span\u003eent\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eUser\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token builtin\"\u003eerror\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    u\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e err \u003cspan class=\"token operator\"\u003e:=\u003c/span\u003e client\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eUser\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\n        \u003cspan class=\"token function\"\u003eCreate\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\n        \u003cspan class=\"token function\"\u003eSetAge\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token number\"\u003e30\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\n        \u003cspan class=\"token function\"\u003eSetName\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"a8m\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\n        \u003cspan class=\"token function\"\u003eSave\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ectx\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"token operator\"\u003e...\u003c/span\u003e \n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eä»¥ä¸ŠãŒOmochiã‚’æ§‹æˆã™ã‚‹æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯ã®ç´¹ä»‹ã«ãªã‚Šã¾ã™\u003c/p\u003e\n\u003ch2 id=\"4.%E3%83%95%E3%82%A9%E3%83%AB%E3%83%80%E6%A7%8B%E6%88%90%E6%A6%82%E8%A6%B3(%E3%82%A2%E3%83%97%E3%83%AA%E3%82%B1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E8%A8%AD%E8%A8%88)\"\u003e\n\u003ca class=\"header-anchor-link\" href=\"#4.%E3%83%95%E3%82%A9%E3%83%AB%E3%83%80%E6%A7%8B%E6%88%90%E6%A6%82%E8%A6%B3(%E3%82%A2%E3%83%97%E3%83%AA%E3%82%B1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E8%A8%AD%E8%A8%88)\" aria-hidden=\"true\"\u003e\u003c/a\u003e 4.ãƒ•ã‚©ãƒ«ãƒ€æ§‹æˆæ¦‚è¦³(ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³è¨­è¨ˆ)\u003c/h2\u003e\n\u003cp\u003eã“ã“ã§ã¯ã€Omochiã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³è¨­è¨ˆã«é–¢ã™ã‚‹èª¬æ˜ã‚’è¡Œã„ã¾ã™ã€‚ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®å…¨ä½“åƒã‚’æŠŠæ¡ã™ã‚‹ãŸã‚ã«ã€ãƒ•ã‚©ãƒ«ãƒ€æ§‹æˆã‚’æ¦‚è¦³ã—ã¦ã¿ã¾ã—ã‚‡ã†\u003c/p\u003e\n\u003cdiv class=\"code-block-container\"\u003e\u003cpre\u003e\u003ccode\u003eâ”œâ”€â”€ LICENSE\nâ”œâ”€â”€ README.md\nâ”œâ”€â”€ cmd \nâ”‚   â”œâ”€â”€ api/ # ã‚µãƒ¼ãƒèµ·å‹•ã®ãŸã‚ã®ã‚³ãƒ¼ãƒ‰\nâ”‚   â”‚   â””â”€â”€ main.go\nâ”‚   â”œâ”€â”€ migrate/\nâ”‚   â””â”€â”€ seeds/\nâ”œâ”€â”€ docker\nâ”‚   â”œâ”€â”€ api/\nâ”‚   â””â”€â”€ db/\nâ”œâ”€â”€ docker-compose.yml\nâ”œâ”€â”€ docs\nâ”œâ”€â”€ go.mod\nâ”œâ”€â”€ go.sum\nâ”œâ”€â”€ pkg # ãƒ¬ã‚¤ãƒ¤ãƒ¼ãƒ‰ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã«ã‚ˆã‚‹ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®å®Ÿè£…\nâ”‚   â”œâ”€â”€ common/ # å…¨ä½“å…±é€šã®å‡¦ç†ãƒ»å®šæ•°ç­‰ã®å®šç¾©\nâ”‚   â”‚   â”œâ”€â”€ constant\nâ”‚   â”‚   â””â”€â”€ slices\nâ”‚   â”œâ”€â”€ config/ \nâ”‚   â”œâ”€â”€ domain\nâ”‚   â”‚   â”œâ”€â”€ entities\nâ”‚   â”‚   â”‚   â”œâ”€â”€ document.go\nâ”‚   â”‚   â”‚   â”œâ”€â”€ invert_index.go\nâ”‚   â”‚   â”‚   â”œâ”€â”€ posting.go\nâ”‚   â”‚   â”‚   â”œâ”€â”€ query.go\nâ”‚   â”‚   â”‚   â””â”€â”€ term.go\nâ”‚   â”‚   â”œâ”€â”€ repository\nâ”‚   â”‚   â”‚   â”œâ”€â”€ document_repository.go\nâ”‚   â”‚   â”‚   â””â”€â”€ term_repository.go\nâ”‚   â”‚   â””â”€â”€ service\nâ”‚   â”‚       â”œâ”€â”€ document_ranker.go\nâ”‚   â”‚       â”œâ”€â”€ indexer.go\nâ”‚   â”‚       â”œâ”€â”€ invert_index_compresser.go\nâ”‚   â”‚       â”œâ”€â”€ searcher.go\nâ”‚   â”‚       â””â”€â”€ tokenizer.go\nâ”‚   â”œâ”€â”€ ent/ # go(ent)ã«ã‚ˆã‚‹DBã®ã‚¹ã‚­ãƒ¼ãƒã®å®šç¾©ãƒ»entã«ã‚ˆã‚Šè‡ªå‹•ç”Ÿæˆã•ã‚Œã‚‹ã‚³ãƒ¼ãƒ‰\nâ”‚   â”œâ”€â”€ errors/ \nâ”‚   â”œâ”€â”€ infrastructure\nâ”‚   â”‚   â”œâ”€â”€ compresser\nâ”‚   â”‚   â”‚   â”œâ”€â”€ zlib_invert_index_compresser.go\nâ”‚   â”‚   â”‚   â””â”€â”€ zlib_invert_index_compresser_test.go\nâ”‚   â”‚   â”œâ”€â”€ documentranker\nâ”‚   â”‚   â”‚   â””â”€â”€ tfidfranker\nâ”‚   â”‚   â”œâ”€â”€ indexer\nâ”‚   â”‚   â”‚   â”œâ”€â”€ indexer.go\nâ”‚   â”‚   â”‚   â””â”€â”€ indexer_test.go\nâ”‚   â”‚   â”œâ”€â”€ persistence\nâ”‚   â”‚   â”œâ”€â”€ searcher\nâ”‚   â”‚   â”‚   â”œâ”€â”€ searcher.go\nâ”‚   â”‚   â”‚   â””â”€â”€ searcher_test.go\nâ”‚   â”‚   â”œâ”€â”€ tokenizer\nâ”‚   â”‚   â”‚   â”œâ”€â”€ eng\nâ”‚   â”‚   â”‚   â””â”€â”€ ja\nâ”‚   â”‚   ...\nâ”‚   â”œâ”€â”€ interface/ \nâ”‚   â””â”€â”€ usecase/ \nâ””â”€â”€ scripts\n...\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eãƒ•ã‚©ãƒ«ãƒ€æ§‹æˆã‹ã‚‰ã‚ã‹ã‚‹é€šã‚Šã€ä»Šå›ã¯ä»¥ä¸‹ã®4ã¤ã®ãƒ¬ã‚¤ãƒ¤ã‚’æŒã¤ãƒ¬ã‚¤ãƒ¤ãƒ¼ãƒ‰ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã‚’æ¡ç”¨ã—ã¾ã—ãŸã€‚\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹å±¤(pkg/interface)\u003c/li\u003e\n\u003cli\u003eã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å±¤ (pkg/usecase)\u003c/li\u003e\n\u003cli\u003eãƒ‰ãƒ¡ã‚¤ãƒ³å±¤(pkg/domain)\u003c/li\u003e\n\u003cli\u003eã‚¤ãƒ³ãƒ•ãƒ©ã‚¹ãƒˆãƒ©ã‚¯ãƒãƒ£å±¤(pkg/infrastructure)\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eè¦³æ¸¬ã—ãŸé™ã‚Šã€Goã«ã‚ˆã‚‹OSSã§ãƒ¬ã‚¤ãƒ¤ãƒ¼ãƒ‰ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã‚’æ¡ç”¨ã—ã¦ã„ã‚‹ã‚‚ã®ã¯å°‘ãªã„ã‚ˆã†ã«æ„Ÿã˜ã‚‰ã‚Œã¾ã™ã€‚ãã‚“ãªä¸­ã€Omochiã§ãƒ¬ã‚¤ãƒ¤ãƒ¼ãƒ‰ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã‚’æ¡ç”¨ã—ãŸç†ç”±ã¨ã—ã¦ã¯ã€\u003cstrong\u003eå„ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®å¤–å´ã‹ã‚‰ãƒ¬ã‚¤ãƒ¤ãƒ¼å†…éƒ¨ã®å®Ÿè£…ãŒè¦‹ãˆãªã„ã‚ˆã†ã«æŠ½è±¡åŒ–ã‚’æ–½ã™ã“ã¨ã«ã‚ˆã£ã¦ã€æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³ã‚’æ§‹æˆã™ã‚‹å…·ä½“çš„ãªæŠ€è¡“ã‚’å‰¥ãŒã—ã‚„ã™ãã—ãŸã‹ã£ãŸã“ã¨\u003c/strong\u003eãŒæŒ™ã’ã‚‰ã‚Œã¾ã™ã€‚\u003c/p\u003e\n\u003cp\u003eã“ã“ã§ã„ã†æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³ã‚’æ§‹æˆã™ã‚‹å…·ä½“çš„ãªæŠ€è¡“ã¨ã¯ã€ä¾‹ãˆã°ä»¥ä¸‹ãŒæŒ™ã’ã‚‰ã‚Œã¾ã™ã€‚\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eå½¢æ…‹ç´ è§£æãƒ»åˆ†ã‹ã¡æ›¸ãã®ãƒ„ãƒ¼ãƒ«ãƒ»ãƒ©ã‚¤ãƒ–ãƒ©ãƒª(kagome,prose,nltk)\u003c/li\u003e\n\u003cli\u003eè»¢ç½®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ãƒ»æ–‡æ›¸ã‚’æ°¸ç¶šåŒ–ã™ã‚‹ãŸã‚ã®ãƒ„ãƒ¼ãƒ«(RDB,NoSQL)\u003c/li\u003e\n\u003cli\u003eãƒ‡ãƒ¼ã‚¿æ“ä½œã®ãŸã‚ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒª(ent,gorm)\u003c/li\u003e\n\u003cli\u003eã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ (TfIdf,BM25)\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eä»¥ä¸Šã®èƒŒæ™¯ã‹ã‚‰ã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®è¨­è¨ˆã¨ã—ã¦ã€ãƒ¬ã‚¤ãƒ¤ãƒ¼ãƒ‰ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã‚’æ¡ç”¨ã—ã€å®Ÿè£…ã‚’è¡Œã„ã¾ã—ãŸã€‚\u003c/p\u003e\n\u003ch1 id=\"5.%E3%82%A4%E3%83%B3%E3%83%87%E3%82%AF%E3%82%B5%E3%81%AE%E5%AE%9F%E8%A3%85(indexer)\"\u003e\n\u003ca class=\"header-anchor-link\" href=\"#5.%E3%82%A4%E3%83%B3%E3%83%87%E3%82%AF%E3%82%B5%E3%81%AE%E5%AE%9F%E8%A3%85(indexer)\" aria-hidden=\"true\"\u003e\u003c/a\u003e 5.ã‚¤ãƒ³ãƒ‡ã‚¯ã‚µã®å®Ÿè£…(Indexer)\u003c/h1\u003e\n\u003cp\u003eã•ã¦ã€æŠ€è¡“é¸å®šã‚„è¨­è¨ˆã¨ã„ã£ãŸã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®å…¨ä½“åƒãŒæ´ã‚ãŸã¨ã“ã‚ã§ã€æœ¬ç« ã‹ã‚‰ã¯ã€å…·ä½“çš„ãªå®Ÿè£…ãƒ¬ãƒ™ãƒ«ã®èª¬æ˜ã‚’è¡Œã£ã¦ã„ãã¾ã™ã€‚\u003c/p\u003e\n\u003cp\u003eæœ¬ç« ã§ã¯ã€æ¤œç´¢å¯¾è±¡ã¨ãªã‚‹æ–‡æ›¸(Document)ã®æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³ã¸ã®ç™»éŒ²ã‚’è¡Œã†ã‚¤ãƒ³ãƒ‡ã‚¯ã‚µã®Goã«ã‚ˆã‚‹å®Ÿè£…ã‚’èª¬æ˜ã—ã¾ã™ã€‚Omochiã«ãŠã‘ã‚‹ã‚¤ãƒ³ãƒ‡ã‚¯ã‚µã¯\u003ca href=\"https://github.com/YadaYuki/omochi/blob/add-license-1/pkg/infrastructure/indexer/indexer.go#L13-L18\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003eIndexer\u003c/a\u003eã¨ã„ã†Goã®æ§‹é€ ä½“ã§å®Ÿè£…ã•ã‚Œã¦ãŠã‚Šã€\u003ca href=\"https://github.com/YadaYuki/omochi/blob/add-license-1/pkg/infrastructure/indexer/indexer.go#L24\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003eIndexer.IndexingDocument\u003c/a\u003eé–¢æ•°ã‚’å®Ÿè¡Œã™ã‚‹ã“ã¨ã«ã‚ˆã£ã¦ã€æ–‡æ›¸ã®ç™»éŒ²ãŒå¯èƒ½ã§ã™ã€‚\u003c/p\u003e\n\u003cp\u003eæ–‡æ›¸ã®ç™»éŒ²ã‚’å®Ÿè¡Œã™ã‚‹Indexer.IndexingDocumenté–¢æ•°ã§ã¯ã€ç™»éŒ²ã•ã‚Œã‚‹æ–‡æ›¸ã§ã‚ã‚‹\u003ca href=\"https://github.com/YadaYuki/omochi/blob/add-license-1/pkg/domain/entities/document.go#L15-L18\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003eDocumentCreate\u003c/a\u003eã¨ã„ã†å‹ã®ãƒ‡ãƒ¼ã‚¿ã‚’å¼•æ•°ã¨ã—ã¦\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eæ–‡æ›¸ã‚’å˜èª(ã‚¿ãƒ¼ãƒ )ã«åˆ†å‰²ã—ã€ç´¢å¼•å¯¾è±¡ã¨ãªã‚‹å˜èªã‚’æŠ½å‡ºã™ã‚‹\u003c/li\u003e\n\u003cli\u003eæ–‡æ›¸(ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ)ã®æ–°è¦ä½œæˆ(æ°¸ç¶šåŒ–)\u003c/li\u003e\n\u003cli\u003eè»¢ç½®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã®ä½œæˆ\u003c/li\u003e\n\u003cli\u003eä½œæˆã—ãŸè»¢ç½®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚’åœ§ç¸®ã™ã‚‹\u003c/li\u003e\n\u003cli\u003eè»¢ç½®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã®æ–°è¦ç™»éŒ² ã‚‚ã—ãã¯ æ›´æ–°(æ°¸ç¶šåŒ–)\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eã¨ã„ã†5ã¤ã®å‡¦ç†ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚\u003c/p\u003e\n\u003ch2 id=\"5.1-%E8%BB%A2%E7%BD%AE%E3%82%A4%E3%83%B3%E3%83%87%E3%83%83%E3%82%AF%E3%82%B9%E3%81%A8%E3%81%AF%EF%BC%9F\"\u003e\n\u003ca class=\"header-anchor-link\" href=\"#5.1-%E8%BB%A2%E7%BD%AE%E3%82%A4%E3%83%B3%E3%83%87%E3%83%83%E3%82%AF%E3%82%B9%E3%81%A8%E3%81%AF%EF%BC%9F\" aria-hidden=\"true\"\u003e\u003c/a\u003e 5.1 è»¢ç½®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã¨ã¯ï¼Ÿ\u003c/h2\u003e\n\u003cp\u003eã•ã¦ã€IndexingDocumentã®å…·ä½“çš„ãªå®Ÿè£…ã‚’è¦‹ã¦ã„ãå‰ã«Omochi(ã¨å¤šãã®æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³)ã‚’æ”¯ãˆã‚‹ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã§ã‚ã‚‹è»¢ç½®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã«é–¢ã™ã‚‹èª¬æ˜ã‚’ã—ã¦ã„ãã¾ã™ã€‚\u003c/p\u003e\n\u003cp\u003eè»¢ç½®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã¯ã€æ–‡æ›¸ç¾¤å†…ã«ç™»å ´ã™ã‚‹ã€Œå˜èª\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003ew\u003c/eq\u003e\u003c/embed-katex\u003eã€ã¨ã€Œå˜èªwãŒç™»å ´ã™ã‚‹æ–‡æ›¸iã«é–¢ã™ã‚‹æƒ…å ±\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003eD_i\u003c/eq\u003e\u003c/embed-katex\u003e(æ–‡æ›¸idã€æ–‡æ›¸å†…ã§\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003ew\u003c/eq\u003e\u003c/embed-katex\u003eãŒç™»å ´ã™ã‚‹ä½ç½®ã‚„å›æ•°..etc)ã€ã‚’ç´ä»˜ã‘ãŸä»¥ä¸‹ã®ã‚ˆã†ãªãƒ‡ãƒ¼ã‚¿æ§‹é€ ã‚’æŒ‡ã—ã¾ã™ã€‚\u003c/p\u003e\n\u003csection class=\"zenn-katex\"\u003e\u003ceqn\u003e\u003cembed-katex display-mode=\"1\"\u003e \\{w_1: [D_1,D_2...],w_2: [D_2,D_5...],... \\} \u003c/embed-katex\u003e\u003c/eqn\u003e\u003c/section\u003e\n\u003cp\u003eã“ã“ã§ã¯ã€æ–‡æ›¸éƒ¡å†…ã«ç™»å ´ã—ã€ç´¢å¼•å¯¾è±¡ã¨ãªã‚‹å˜èª\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003ew\u003c/eq\u003e\u003c/embed-katex\u003eã‚’\u003cstrong\u003eã‚¿ãƒ¼ãƒ \u003c/strong\u003eã€ã‚¿ãƒ¼ãƒ ã«ç´ã¥ã„ãŸæ–‡æ›¸æƒ…å ±ã®é…åˆ—(\u003cembed-katex\u003e\u003ceq class=\"zenn-katex\"\u003e[D_i,...]\u003c/eq\u003e\u003c/embed-katex\u003e)ã‚’\u003cstrong\u003eãƒã‚¹ãƒ†ã‚£ãƒ³ã‚°ãƒªã‚¹ãƒˆ\u003c/strong\u003eã¨å‘¼ã³ã¾ã™ã€‚\u003c/p\u003e\n\u003cp\u003eãã‚Œã§ã¯ä¾‹ã¨ã—ã¦ã€ä»¥ä¸‹ã®3ã¤ã®æ–‡æ›¸(æ˜ ç”»ã‚¿ã‚¤ãƒˆãƒ«)ãŒæ¤œç´¢å¯¾è±¡ã¨ãªã‚‹ã‚ˆã†ãªæ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³ã‚’æƒ³å®šã—ã¦ã€è»¢ç½®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚’ä½œæˆã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003e\u003cstrong\u003e\"Toy Story\"\u003c/strong\u003e\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003e\"The Wolf of Wall Street\"\u003c/strong\u003e\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003e\"The NeverEnding Story\"\u003c/strong\u003e\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eãƒã‚¹ãƒ†ã‚£ãƒ³ã‚°ãƒªã‚¹ãƒˆã®å„ã‚¢ã‚¤ãƒ†ãƒ ã«ã¯ã€ã€Œæ–‡æ›¸idã€ã¨ã€Œå„æ–‡æ›¸ã«ãŠã‘ã‚‹å˜èªã®ç™»å ´ä½ç½®ã€ã‚’æ ¼ç´ã™ã‚‹ã¨ã—ã¦ã€ä»¥ä¸‹ã®ã‚ˆã†ãªè»¢ç½®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ãŒå¾—ã‚‰ã‚Œã¾ã™ã€‚\u003c/p\u003e\n\u003cdiv class=\"code-block-container\"\u003e\u003cpre class=\"language-js\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token string-property property\"\u003e\"NeverEnding\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\n        \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\u003cspan class=\"token string-property property\"\u003e\"document_id\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token number\"\u003e3\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token string-property property\"\u003e\"positions_in_document\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token number\"\u003e1\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// æ–‡æ›¸id=3ã®æ–‡æ›¸(\"The NeverEnding Story\")ã®1å˜èªç›®(0ã‹ã‚‰æ•°ãˆã‚‹)ã«ç™»å ´\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"token string-property property\"\u003e\"Story\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\n        \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\u003cspan class=\"token string-property property\"\u003e\"document_id\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token number\"\u003e1\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token string-property property\"\u003e\"positions_in_document\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token number\"\u003e1\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n        \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\u003cspan class=\"token string-property property\"\u003e\"document_id\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token number\"\u003e3\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token string-property property\"\u003e\"positions_in_document\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token number\"\u003e1\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \n    \u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"token string-property property\"\u003e\"Street\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\n        \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\u003cspan class=\"token string-property property\"\u003e\"document_id\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token number\"\u003e2\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token string-property property\"\u003e\"positions_in_document\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token number\"\u003e4\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"token string-property property\"\u003e\"The\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\n        \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\u003cspan class=\"token string-property property\"\u003e\"document_id\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token number\"\u003e2\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token string-property property\"\u003e\"positions_in_document\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token number\"\u003e0\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n        \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\u003cspan class=\"token string-property property\"\u003e\"document_id\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token number\"\u003e3\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token string-property property\"\u003e\"positions_in_document\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token number\"\u003e0\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\n    \u003cspan class=\"token spread operator\"\u003e...\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eå¤šãã®æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³ã§ã¯ã€ã“ã®ã‚ˆã†ã«ã€\u003cstrong\u003eè»¢ç½®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã¨ã„ã†éå¸¸ã«ã‚·ãƒ³ãƒ—ãƒ«ã§ã‚ã‹ã‚Šã‚„ã™ã„ãƒ‡ãƒ¼ã‚¿æ§‹é€ \u003c/strong\u003eã‚’äº‹å‰ã«ä½œæˆãƒ»ä¿å­˜ã—ã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã£ã¦ã€ãƒ¦ãƒ¼ã‚¶ãŒè¦æ±‚ã™ã‚‹å˜èªã®å«ã¾ã‚Œã‚‹æ–‡æ›¸ç¾¤ã¸ã®é«˜é€Ÿãªã‚¢ã‚¯ã‚»ã‚¹ã‚’å®Ÿç¾ã—ã¦ã„ã¾ã™ã€‚\u003c/p\u003e\n\u003ch2 id=\"5.2-indexer%E3%83%BBindexingdocument%E9%96%A2%E6%95%B0\"\u003e\n\u003ca class=\"header-anchor-link\" href=\"#5.2-indexer%E3%83%BBindexingdocument%E9%96%A2%E6%95%B0\" aria-hidden=\"true\"\u003e\u003c/a\u003e 5.2 Indexerãƒ»IndexingDocumenté–¢æ•°\u003c/h2\u003e\n\u003cp\u003eè»¢ç½®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã«ã¤ã„ã¦ç†è§£ãŒæ·±ã¾ã£ãŸã¨ã“ã‚ã§ã€ã‚¤ãƒ³ãƒ‡ã‚¯ã‚µã®å®Ÿè£…ã‚’è¦‹ã¦ã„ãã¾ã—ã‚‡ã†ã€‚å®Ÿè£…ã‚’ã¿ã¦ã„ãå‰ã«\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eæ–‡æ›¸ã‚’ã‚¿ãƒ¼ãƒ (å˜èª)ã«åˆ†å‰²ã—ã€ç´¢å¼•å¯¾è±¡ã¨ãªã‚‹ã‚¿ãƒ¼ãƒ ã‚’æŠ½å‡ºã™ã‚‹æ‰‹æ³•\u003c/li\u003e\n\u003cli\u003eè»¢ç½®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã®åœ§ç¸®æ‰‹æ³•\u003c/li\u003e\n\u003cli\u003eè»¢ç½®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ãƒ»æ–‡æ›¸ã®æ°¸ç¶šåŒ–\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eã¨ã„ã†3ç‚¹ã«ã¤ã„ã¦è£œè¶³ã§èª¬æ˜ã‚’è¡Œã„ã¾ã™\u003c/p\u003e\n\u003ch3 id=\"%E6%96%87%E6%9B%B8%E3%82%92%E3%82%BF%E3%83%BC%E3%83%A0(%E5%8D%98%E8%AA%9E)%E3%81%AB%E5%88%86%E5%89%B2%E3%81%97%E3%80%81%E7%B4%A2%E5%BC%95%E5%AF%BE%E8%B1%A1%E3%81%A8%E3%81%AA%E3%82%8B%E3%82%BF%E3%83%BC%E3%83%A0%E3%82%92%E6%8A%BD%E5%87%BA%E3%81%99%E3%82%8B%E6%89%8B%E6%B3%95\"\u003e\n\u003ca class=\"header-anchor-link\" href=\"#%E6%96%87%E6%9B%B8%E3%82%92%E3%82%BF%E3%83%BC%E3%83%A0(%E5%8D%98%E8%AA%9E)%E3%81%AB%E5%88%86%E5%89%B2%E3%81%97%E3%80%81%E7%B4%A2%E5%BC%95%E5%AF%BE%E8%B1%A1%E3%81%A8%E3%81%AA%E3%82%8B%E3%82%BF%E3%83%BC%E3%83%A0%E3%82%92%E6%8A%BD%E5%87%BA%E3%81%99%E3%82%8B%E6%89%8B%E6%B3%95\" aria-hidden=\"true\"\u003e\u003c/a\u003e \u003cstrong\u003eæ–‡æ›¸ã‚’ã‚¿ãƒ¼ãƒ (å˜èª)ã«åˆ†å‰²ã—ã€ç´¢å¼•å¯¾è±¡ã¨ãªã‚‹ã‚¿ãƒ¼ãƒ ã‚’æŠ½å‡ºã™ã‚‹æ‰‹æ³•\u003c/strong\u003e\n\u003c/h3\u003e\n\u003cp\u003eè»¢ç½®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚’ä½œæˆã™ã‚‹éš›ã«é‡è¦ã¨ãªã‚‹\u003cstrong\u003eæ–‡æ›¸ã‚’ã‚¿ãƒ¼ãƒ (å˜èª)ã«åˆ†å‰²ã—ã€ç´¢å¼•å¯¾è±¡ã¨ãªã‚‹ã‚¿ãƒ¼ãƒ ã‚’æŠ½å‡ºã™ã‚‹\u003c/strong\u003eæ‰‹æ³•ã«ã¯ã€\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003en-gram\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"https://taku910.github.io/mecab/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003eMecab\u003c/a\u003eç­‰ã®ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã‚’ç”¨ã„ãŸåˆ†ã‹ã¡æ›¸ã\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eãªã©æ§˜ã€…ãªæ‰‹æ³•ãŒå­˜åœ¨ã—ã¾ã™ã€‚ãã®ä¸­ã§ã‚‚ã€Omochiã¯ã€æ—¥æœ¬èªãƒ»è‹±èªã®ãã‚Œãã‚Œã«å¯¾ã—ã¦ã€Goã§åˆ†ã‹ã¡æ›¸ãã‚„å½¢æ…‹ç´ è§£æã‚’å®¹æ˜“ã«å®Ÿè£…ã™ã‚‹ã“ã¨ãŒã§ãã‚‹\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eæ—¥æœ¬èª: \u003ca href=\"https://github.com/ikawaha/kagome\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003eKagome\u003c/a\u003eã«ã‚ˆã‚‹åˆ†ã‹ã¡æ›¸ããƒ»å½¢æ…‹ç´ è§£æ\u003c/li\u003e\n\u003cli\u003eè‹±èª: \u003ca href=\"https://github.com/jdkato/prose\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003eProse\u003c/a\u003eã«ã‚ˆã‚‹å˜èªã¸ã®åˆ†å‰²ãƒ»å½¢æ…‹ç´ è§£æ\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eã¨ã„ã†ãƒ„ãƒ¼ãƒ«ã‚’æ´»ç”¨ã—ã€æ–‡æ›¸ã®å˜èªã¸ã®åˆ†å‰²ãŠã‚ˆã³ç´¢å¼•å¯¾è±¡ã¨ãªã‚‹å˜èªã‚’æŠ½å‡ºã‚’å®Ÿç¾ã—ã¦ã„ã¾ã™ã€‚\u003c/p\u003e\n\u003ch3 id=\"%E8%BB%A2%E7%BD%AE%E3%82%A4%E3%83%B3%E3%83%87%E3%83%83%E3%82%AF%E3%82%B9%E3%81%AE%E5%9C%A7%E7%B8%AE%E6%89%8B%E6%B3%95\"\u003e\n\u003ca class=\"header-anchor-link\" href=\"#%E8%BB%A2%E7%BD%AE%E3%82%A4%E3%83%B3%E3%83%87%E3%83%83%E3%82%AF%E3%82%B9%E3%81%AE%E5%9C%A7%E7%B8%AE%E6%89%8B%E6%B3%95\" aria-hidden=\"true\"\u003e\u003c/a\u003e \u003cstrong\u003eè»¢ç½®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã®åœ§ç¸®æ‰‹æ³•\u003c/strong\u003e\n\u003c/h3\u003e\n\u003cp\u003eæ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³ã«ç™»éŒ²ã•ã‚Œã‚‹æ–‡æ›¸ã®ãƒ‡ãƒ¼ã‚¿é‡ãŒå¢—ãˆã‚‹ã¨ã€è»¢ç½®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã®ã‚µã‚¤ã‚ºãŒéå¸¸ã«å¤§ãããªã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚ãã®ãŸã‚ã€Omochiã‚’å«ã‚€ã€å¤šãã®æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³ã§ã¯\u003cstrong\u003eè»¢ç½®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚’åœ§ç¸®ã—ã¦æ°¸ç¶šåŒ–ã—ã¦ã„ã¾ã™ã€‚\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003eOmochiã§ã¯ã€\u003cstrong\u003eè»¢ç½®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã«å«ã¾ã‚Œã‚‹ãƒ‡ãƒ¼ã‚¿ã®å¤§éƒ¨åˆ†ã‚’å ã‚ã‚‹ãƒã‚¹ãƒ†ã‚£ãƒ³ã‚°ãƒªã‚¹ãƒˆã‚’åœ§ç¸®ã™ã‚‹\u003c/strong\u003eã“ã¨ã§ã€ä¿å­˜æ™‚ã«ãŠã‘ã‚‹è»¢ç½®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã®ãƒ‡ãƒ¼ã‚¿é‡ã‚’å‰Šæ¸›ã—ã¦ã„ã¾ã™ã€‚\u003c/p\u003e\n\u003cp\u003eãƒã‚¹ãƒ†ã‚£ãƒ³ã‚°ãƒªã‚¹ãƒˆã®åœ§ç¸®ã¯ä»¥ä¸‹ã®2ã¤ã®æ‰‹é †ã§å®Ÿè¡Œã•ã‚Œã¾ã™\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003e\u003cstrong\u003eãƒã‚¹ãƒ†ã‚£ãƒ³ã‚°ãƒªã‚¹ãƒˆã‚’æ ¼ç´ã™ã‚‹é…åˆ—ã‚’\u003ca href=\"https://pkg.go.dev/encoding/gob\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003egob\u003c/a\u003eã«ã‚ˆã‚Šã‚·ãƒªã‚¢ãƒ©ã‚¤ã‚ºåŒ–(ãƒã‚¤ãƒˆå‹ã®é…åˆ—ã«å¤‰æ›)\u003c/strong\u003e\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eã€Œ1ã€ã«ã‚ˆã‚Šå¾—ã‚‰ã‚ŒãŸãƒã‚¤ãƒˆå‹ã®é…åˆ—ã‚’\u003ca href=\"https://pkg.go.dev/compress/zlib\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003ezlib\u003c/a\u003eã«ã‚ˆã£ã¦åœ§ç¸®ã€‚\u003c/strong\u003e\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eãªãŠã€2ã¤ã®æ‰‹é †ã¯ã€ã„ãšã‚Œã‚‚goã®æ¨™æº–ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ã¿ã§å®Ÿè£…ãŒå¯èƒ½ã§ã™ã€‚\u003c/p\u003e\n\u003ch3 id=\"%E8%BB%A2%E7%BD%AE%E3%82%A4%E3%83%B3%E3%83%87%E3%83%83%E3%82%AF%E3%82%B9(%E5%9C%A7%E7%B8%AE%E6%B8%88%E3%81%BF)%E3%83%BB%E6%96%87%E6%9B%B8%E3%81%AE%E6%B0%B8%E7%B6%9A%E5%8C%96\"\u003e\n\u003ca class=\"header-anchor-link\" href=\"#%E8%BB%A2%E7%BD%AE%E3%82%A4%E3%83%B3%E3%83%87%E3%83%83%E3%82%AF%E3%82%B9(%E5%9C%A7%E7%B8%AE%E6%B8%88%E3%81%BF)%E3%83%BB%E6%96%87%E6%9B%B8%E3%81%AE%E6%B0%B8%E7%B6%9A%E5%8C%96\" aria-hidden=\"true\"\u003e\u003c/a\u003e \u003cstrong\u003eè»¢ç½®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹(åœ§ç¸®æ¸ˆã¿)ãƒ»æ–‡æ›¸ã®æ°¸ç¶šåŒ–\u003c/strong\u003e\n\u003c/h3\u003e\n\u003cp\u003eã™ã§ã«è¿°ã¹ãŸé€šã‚Šã€æ°¸ç¶šåŒ–ã®ãŸã‚ã®ãƒ„ãƒ¼ãƒ«ã¨ORMã«ã¯ãã‚Œãã‚ŒMySQLã¨entã‚’ç”¨ã„ã¦ã„ã¾ã™ã€‚\u003c/p\u003e\n\u003cp\u003eã—ã‹ã—ã€Indexerãƒ»IndexingDocumenté–¢æ•°ã¯ã€\u003cstrong\u003eã€Œå…·ä½“ã§ã¯ãªãæŠ½è±¡ã«ä¾å­˜ã™ã‚‹ã€ã¨ã„ã†DIPã®ãƒ«ãƒ¼ãƒ«ã‚’å®ˆã‚‹ã¹ãã€domainãƒ¬ã‚¤ãƒ¤ã§å®šç¾©ã•ã‚ŒãŸæŠ½è±¡(\u003ca href=\"https://github.com/YadaYuki/omochi/blob/534ce5cbe66e9bfce60ba8ee6ffad8d990543800/pkg/domain/repository/document_repository.go#L10\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003eDocumentRepository\u003c/a\u003eã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹)ã«ä¾å­˜ã™ã‚‹ã‚ˆã†ã«å®Ÿè£…ã•ã‚Œã¦ã„ã¾ã™\u003c/strong\u003eã€‚\u003c/p\u003e\n\u003cp\u003eãã®ãŸã‚ã€MySQLã‚„entã¨ã„ã£ãŸãƒ„ãƒ¼ãƒ«ç¾¤ã®çŸ¥è­˜ã¯Indexerã®å®Ÿè£…ã«å«ã‚“ã§ã„ã¾ã›ã‚“ã€‚\u003ca href=\"https://github.com/YadaYuki/omochi/blob/534ce5cbe66e9bfce60ba8ee6ffad8d990543800/cmd/seeds/ja/seed.go#L48\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003eIndexerã‚’åˆæœŸåŒ–\u003c/a\u003eã™ã‚‹éš›ã«ã€MySQLã¨æ¥ç¶šã™ã‚‹Entã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’é–¢æ•°ã®å¼•æ•°ã¨ã—ã¦ä¸ãˆã¦ã„ã¾ã™(Dependency Injection)\u003c/p\u003e\n\u003cp\u003eä»¥ä¸Šã®3ç‚¹ã‚’è¸ã¾ãˆã¦ã€IndexerãŠã‚ˆã³IndexingDocumenté–¢æ•°ã®å®Ÿè£…ã‚’è¦‹ã¦ã¿ã¾ã—ã‚‡ã†ã€‚\u003c/p\u003e\n\u003cdiv class=\"code-block-container\"\u003e\u003cpre class=\"language-go\"\u003e\u003ccode class=\"language-go\"\u003e\u003cspan class=\"token keyword\"\u003epackage\u003c/span\u003e indexer\n\n\u003cspan class=\"token keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\n\t\u003cspan class=\"token string\"\u003e\"context\"\u003c/span\u003e\n\n\t\u003cspan class=\"token string\"\u003e\"github.com/YadaYuki/omochi/pkg/domain/entities\"\u003c/span\u003e\n\t\u003cspan class=\"token string\"\u003e\"github.com/YadaYuki/omochi/pkg/domain/repository\"\u003c/span\u003e\n\t\u003cspan class=\"token string\"\u003e\"github.com/YadaYuki/omochi/pkg/domain/service\"\u003c/span\u003e\n\t\u003cspan class=\"token string\"\u003e\"github.com/YadaYuki/omochi/pkg/errors\"\u003c/span\u003e\n\t\u003cspan class=\"token string\"\u003e\"github.com/YadaYuki/omochi/pkg/errors/code\"\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\n\u003cspan class=\"token keyword\"\u003etype\u003c/span\u003e Indexer \u003cspan class=\"token keyword\"\u003estruct\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n\tdocumentRepository    repository\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eDocumentRepository\n\ttermRepository        repository\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eTermRepository\n\ttokenizer             service\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eTokenizer\n\tinvertIndexCompresser service\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eInvertIndexCompresser\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"token keyword\"\u003efunc\u003c/span\u003e \u003cspan class=\"token function\"\u003eNewIndexer\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003edocumentRepository repository\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eDocumentRepository\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e termRepository repository\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eTermRepository\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e tokenizer service\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eTokenizer\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e invertIndexCompresser service\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eInvertIndexCompresser\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e service\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eIndexer \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n\t\u003cspan class=\"token keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"token operator\"\u003e\u0026amp;\u003c/span\u003eIndexer\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003edocumentRepository\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e termRepository\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e tokenizer\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e invertIndexCompresser\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"token keyword\"\u003efunc\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eindexer \u003cspan class=\"token operator\"\u003e*\u003c/span\u003eIndexer\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token function\"\u003eIndexingDocument\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ectx context\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eContext\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e document \u003cspan class=\"token operator\"\u003e*\u003c/span\u003eentities\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eDocumentCreate\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token operator\"\u003e*\u003c/span\u003eerrors\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eError \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n\n\t\u003cspan class=\"token comment\"\u003e// æ–‡æ›¸ã‚’å˜èªã«åˆ†å‰²ã—ã€ç´¢å¼•å¯¾è±¡ã¨ãªã‚‹å˜èªã‚’æŠ½å‡ºã™ã‚‹\u003c/span\u003e\n\ttokenizedContent\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e tokenizeErr \u003cspan class=\"token operator\"\u003e:=\u003c/span\u003e indexer\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003etokenizer\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eTokenize\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ectx\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e document\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eContent\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\t\u003cspan class=\"token keyword\"\u003eif\u003c/span\u003e tokenizeErr \u003cspan class=\"token operator\"\u003e!=\u003c/span\u003e \u003cspan class=\"token boolean\"\u003enil\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n\t\t\u003cspan class=\"token keyword\"\u003ereturn\u003c/span\u003e errors\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eNewError\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003etokenizeErr\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eCode\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e tokenizeErr\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eError\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\t\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\n        \u003cspan class=\"token comment\"\u003e// æ–‡æ›¸(ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ)ã®æ–°è¦ä½œæˆ(æ°¸ç¶šåŒ–)\u003c/span\u003e\n\tdocument\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eTokenizedContent \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token function\"\u003emake\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token builtin\"\u003estring\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token function\"\u003elen\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token operator\"\u003e*\u003c/span\u003etokenizedContent\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\t\u003cspan class=\"token keyword\"\u003efor\u003c/span\u003e i\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e term \u003cspan class=\"token operator\"\u003e:=\u003c/span\u003e \u003cspan class=\"token keyword\"\u003erange\u003c/span\u003e \u003cspan class=\"token operator\"\u003e*\u003c/span\u003etokenizedContent \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n\t\tdocument\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eTokenizedContent\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003ei\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e term\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eWord\n\t\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n    \n\tdocumentDetail\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e documentCreateErr \u003cspan class=\"token operator\"\u003e:=\u003c/span\u003e indexer\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003edocumentRepository\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eCreateDocument\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ectx\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e document\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\t\u003cspan class=\"token keyword\"\u003eif\u003c/span\u003e documentCreateErr \u003cspan class=\"token operator\"\u003e!=\u003c/span\u003e \u003cspan class=\"token boolean\"\u003enil\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n\t\t\u003cspan class=\"token keyword\"\u003ereturn\u003c/span\u003e errors\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eNewError\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003edocumentCreateErr\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eCode\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e documentCreateErr\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eError\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\t\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\n        \u003cspan class=\"token comment\"\u003e// è»¢ç½®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã®ä½œæˆ\u003c/span\u003e\n\twordToPostingMap \u003cspan class=\"token operator\"\u003e:=\u003c/span\u003e \u003cspan class=\"token function\"\u003emake\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token keyword\"\u003emap\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token builtin\"\u003estring\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token operator\"\u003e*\u003c/span\u003eentities\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003ePosting\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\t\u003cspan class=\"token keyword\"\u003efor\u003c/span\u003e position\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e word \u003cspan class=\"token operator\"\u003e:=\u003c/span\u003e \u003cspan class=\"token keyword\"\u003erange\u003c/span\u003e document\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eTokenizedContent \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n\t\t\u003cspan class=\"token keyword\"\u003eif\u003c/span\u003e \u003cspan class=\"token boolean\"\u003e_\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e ok \u003cspan class=\"token operator\"\u003e:=\u003c/span\u003e wordToPostingMap\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003eword\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e ok \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n\t\t\twordToPostingMap\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003eword\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003ePositionsInDocument \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token function\"\u003eappend\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ewordToPostingMap\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003eword\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003ePositionsInDocument\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e position\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\t\t\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e \u003cspan class=\"token keyword\"\u003eelse\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n\t\t\tpositionsInDocument \u003cspan class=\"token operator\"\u003e:=\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token builtin\"\u003eint\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003eposition\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\t\t\twordToPostingMap\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003eword\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e entities\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eNewPosting\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003edocumentDetail\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eId\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e positionsInDocument\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\t\t\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\t\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\n\ttermCompresseds\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e termErr \u003cspan class=\"token operator\"\u003e:=\u003c/span\u003e indexer\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003etermRepository\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eFindTermCompressedsByWords\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ectx\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token operator\"\u003e\u0026amp;\u003c/span\u003edocument\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eTokenizedContent\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\t\u003cspan class=\"token keyword\"\u003eif\u003c/span\u003e termErr \u003cspan class=\"token operator\"\u003e!=\u003c/span\u003e \u003cspan class=\"token boolean\"\u003enil\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n\t\t\u003cspan class=\"token keyword\"\u003ereturn\u003c/span\u003e errors\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eNewError\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003edocumentCreateErr\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eCode\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e termErr\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eError\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\t\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\tterms \u003cspan class=\"token operator\"\u003e:=\u003c/span\u003e \u003cspan class=\"token function\"\u003emake\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003eentities\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eTermCreate\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token function\"\u003elen\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token operator\"\u003e*\u003c/span\u003etermCompresseds\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\twordToTermsMap \u003cspan class=\"token operator\"\u003e:=\u003c/span\u003e \u003cspan class=\"token function\"\u003emake\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token keyword\"\u003emap\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token builtin\"\u003estring\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token operator\"\u003e*\u003c/span\u003eentities\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eTermCreate\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\t\u003cspan class=\"token keyword\"\u003efor\u003c/span\u003e i\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e termCompressed \u003cspan class=\"token operator\"\u003e:=\u003c/span\u003e \u003cspan class=\"token keyword\"\u003erange\u003c/span\u003e \u003cspan class=\"token operator\"\u003e*\u003c/span\u003etermCompresseds \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n\t\tinvertIndex\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e decompressErr \u003cspan class=\"token operator\"\u003e:=\u003c/span\u003e indexer\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003einvertIndexCompresser\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eDecompress\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ectx\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e termCompressed\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eInvertIndexCompressed\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\t\t\u003cspan class=\"token keyword\"\u003eif\u003c/span\u003e decompressErr \u003cspan class=\"token operator\"\u003e!=\u003c/span\u003e \u003cspan class=\"token boolean\"\u003enil\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n\t\t\t\u003cspan class=\"token function\"\u003epanic\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003edecompressErr\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\t\t\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\t\tterms\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003ei\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eWord \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e termCompressed\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eWord\n\t\tterms\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003ei\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eInvertIndex \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e invertIndex\n\t\twordToTermsMap\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003etermCompressed\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eWord\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token operator\"\u003e\u0026amp;\u003c/span\u003eterms\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003ei\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\n\t\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\n\t\u003cspan class=\"token keyword\"\u003efor\u003c/span\u003e wordInDocument\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e posting \u003cspan class=\"token operator\"\u003e:=\u003c/span\u003e \u003cspan class=\"token keyword\"\u003erange\u003c/span\u003e wordToPostingMap \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n\t\t\u003cspan class=\"token keyword\"\u003eif\u003c/span\u003e \u003cspan class=\"token boolean\"\u003e_\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e ok \u003cspan class=\"token operator\"\u003e:=\u003c/span\u003e wordToTermsMap\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003ewordInDocument\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e ok \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n\t\t\t\u003cspan class=\"token operator\"\u003e*\u003c/span\u003ewordToTermsMap\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003ewordInDocument\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eInvertIndex\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003ePostingList \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token function\"\u003eappend\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token operator\"\u003e*\u003c/span\u003ewordToTermsMap\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003ewordInDocument\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eInvertIndex\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003ePostingList\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token operator\"\u003e*\u003c/span\u003eposting\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\t\t\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e \u003cspan class=\"token keyword\"\u003eelse\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n\t\t\tinvertIndex \u003cspan class=\"token operator\"\u003e:=\u003c/span\u003e entities\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eNewInvertIndex\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token operator\"\u003e\u0026amp;\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003eentities\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003ePosting\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\u003cspan class=\"token operator\"\u003e*\u003c/span\u003eposting\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\t\t\twordToTermsMap\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003ewordInDocument\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e entities\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eNewTermCreate\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ewordInDocument\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e invertIndex\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\t\t\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\t\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\n\tupsertTermCompresseds \u003cspan class=\"token operator\"\u003e:=\u003c/span\u003e \u003cspan class=\"token operator\"\u003e\u0026amp;\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003eentities\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eTermCompressedCreate\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\t\u003cspan class=\"token keyword\"\u003efor\u003c/span\u003e wordInDocument \u003cspan class=\"token operator\"\u003e:=\u003c/span\u003e \u003cspan class=\"token keyword\"\u003erange\u003c/span\u003e wordToTermsMap \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n\t\tinvertIndexCompressed\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e compressErr \u003cspan class=\"token operator\"\u003e:=\u003c/span\u003e indexer\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003einvertIndexCompresser\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eCompress\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ectx\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e wordToTermsMap\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003ewordInDocument\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eInvertIndex\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// è»¢ç½®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã®åœ§ç¸®\u003c/span\u003e\n\t\t\u003cspan class=\"token keyword\"\u003eif\u003c/span\u003e compressErr \u003cspan class=\"token operator\"\u003e!=\u003c/span\u003e \u003cspan class=\"token boolean\"\u003enil\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e \n\t\t\t\u003cspan class=\"token function\"\u003epanic\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ecompressErr\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\t\t\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\t\ttermCompressed \u003cspan class=\"token operator\"\u003e:=\u003c/span\u003e entities\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eNewTermCompressedCreate\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ewordInDocument\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e invertIndexCompressed\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\t\t\u003cspan class=\"token operator\"\u003e*\u003c/span\u003eupsertTermCompresseds \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token function\"\u003eappend\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token operator\"\u003e*\u003c/span\u003eupsertTermCompresseds\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token operator\"\u003e*\u003c/span\u003etermCompressed\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\t\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\n\t\u003cspan class=\"token comment\"\u003e// è»¢ç½®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã®æ–°è¦ç™»éŒ² ã‚‚ã—ãã¯ æ›´æ–°(æ°¸ç¶šåŒ–)\u003c/span\u003e\n\tupsertErr \u003cspan class=\"token operator\"\u003e:=\u003c/span\u003e indexer\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003etermRepository\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eBulkUpsertTerm\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ectx\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e upsertTermCompresseds\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\t\u003cspan class=\"token keyword\"\u003eif\u003c/span\u003e upsertErr \u003cspan class=\"token operator\"\u003e!=\u003c/span\u003e \u003cspan class=\"token boolean\"\u003enil\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n\t\t\u003cspan class=\"token keyword\"\u003ereturn\u003c/span\u003e errors\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eNewError\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ecode\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eUnknown\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e upsertErr\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\t\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\n\t\u003cspan class=\"token keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"token boolean\"\u003enil\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eä»¥ä¸ŠãŒã‚¤ãƒ³ãƒ‡ã‚¯ã‚µã®å®Ÿè£…(Indexer)ã®èª¬æ˜ã«ãªã‚Šã¾ã™ã€‚\u003c/p\u003e\n\u003ch1 id=\"6.%E3%82%B5%E3%83%BC%E3%83%81%E3%83%A3%E3%81%AE%E5%AE%9F%E8%A3%85(searcher)\"\u003e\n\u003ca class=\"header-anchor-link\" href=\"#6.%E3%82%B5%E3%83%BC%E3%83%81%E3%83%A3%E3%81%AE%E5%AE%9F%E8%A3%85(searcher)\" aria-hidden=\"true\"\u003e\u003c/a\u003e 6.ã‚µãƒ¼ãƒãƒ£ã®å®Ÿè£…(Searcher)\u003c/h1\u003e\n\u003cp\u003eæ¬¡ã«\u003cstrong\u003eãƒ¦ãƒ¼ã‚¶ã‹ã‚‰ã®æƒ…å ±è¦æ±‚(æ¤œç´¢ãƒ¯ãƒ¼ãƒ‰)ã‹ã‚‰è©²å½“ã™ã‚‹æ–‡æ›¸ã‚’é–¢é€£åº¦ãŒé«˜ã„æ–¹ã‹ã‚‰é™é †ã«ã‚½ãƒ¼ãƒˆã—ã¦å–å¾—ã™ã‚‹ã€ã™ãªã‚ã¡ã€å…¨æ–‡æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³ã®è‚ã§ã‚ã‚‹æ¤œç´¢æ©Ÿèƒ½ãŒå®Ÿè£…ã•ã‚ŒãŸã‚µãƒ¼ãƒãƒ£\u003c/strong\u003eã«é–¢ã™ã‚‹èª¬æ˜ã§ã™ã€‚ã‚µãƒ¼ãƒãƒ£ã¯\u003ca href=\"https://github.com/YadaYuki/omochi/blob/master/pkg/infrastructure/searcher/searcher.go#L15-L21\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003eSearcher\u003c/a\u003eã¨ã„ã†Goã®æ§‹é€ ä½“ã§å®Ÿè£…ã•ã‚Œã¦ã„ã¾ã™ã€‚\u003ca href=\"https://github.com/YadaYuki/omochi/blob/master/pkg/infrastructure/searcher/searcher.go#L27\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003eSearcher.Search\u003c/a\u003eé–¢æ•°ã‚’å®Ÿè¡Œã™ã‚‹ã“ã¨ã«ã‚ˆã£ã¦æ¤œç´¢ã‚’å®Ÿè¡Œã™ã‚‹ã“ã¨ãŒå¯èƒ½ã§ã™ã€‚\u003c/p\u003e\n\u003cp\u003eSearcher.Searchã¯ä»¥ä¸‹ã®ã‚ˆã†ãª\u003ca href=\"https://github.com/YadaYuki/omochi/blob/master/pkg/domain/entities/query.go#L10\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003eQuery\u003c/a\u003eå‹ã®ãƒ‡ãƒ¼ã‚¿ã‚’å¼•æ•°ã¨ã—ã¦å—ã‘å–ã‚Šã¾ã™ã€‚\u003c/p\u003e\n\u003cdiv class=\"code-block-container\"\u003e\u003cpre class=\"language-go\"\u003e\u003ccode class=\"language-go\"\u003e\u003cspan class=\"token keyword\"\u003etype\u003c/span\u003e SearchModeType \u003cspan class=\"token builtin\"\u003estring\u003c/span\u003e\n\n\u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\n\tAnd SearchModeType \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"And\"\u003c/span\u003e\n\tOr  SearchModeType \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"Or\"\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\n\u003cspan class=\"token keyword\"\u003etype\u003c/span\u003e Query \u003cspan class=\"token keyword\"\u003estruct\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n\tKeywords   \u003cspan class=\"token operator\"\u003e*\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token builtin\"\u003estring\u003c/span\u003e      \u003cspan class=\"token string\"\u003e`json:\"keywords\"`\u003c/span\u003e\n\tSearchMode SearchModeType \u003cspan class=\"token string\"\u003e`json:\"mode\"`\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// And,Or\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã§ã‚ã‚‹\u003ccode\u003eSearchMode\u003c/code\u003eã«ã¯\u003ccode\u003eAnd\u003c/code\u003eã‚‚ã—ãã¯\u003ccode\u003eOr\u003c/code\u003eã‚’æŒ‡å®šã™ã‚‹ã“ã¨ãŒå¯èƒ½ã§ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Š\u003ccode\u003ekeywords\u003c/code\u003eé…åˆ—å†…ã®å˜èªã‚’å…¨ã¦å«ã‚€æ–‡æ›¸ã‚’æ¤œç´¢ã™ã‚‹ã‹(Andæ¤œç´¢)ã€å°‘ãªãã¨ã‚‚\u003ccode\u003ekeywords\u003c/code\u003eé…åˆ—å†…ã®å˜èªã®ã„ãšã‚Œã‹ä¸€ã¤ã‚’å«ã‚€æ–‡æ›¸ã‚’æ¤œç´¢ã™ã‚‹ã‹(Oræ¤œç´¢)ã‚’åˆ‡ã‚Šæ›¿ãˆã¦ã„ã¾ã™ã€‚\u003c/p\u003e\n\u003cp\u003eSearcher.Searché–¢æ•°å†…ã§ã¯ã€\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eåœ§ç¸®æ¸ˆã¿è»¢ç½®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹(InvertIndexCompressed)ã®å–å¾—\u003c/li\u003e\n\u003cli\u003eè»¢ç½®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã®è§£å‡\u003c/li\u003e\n\u003cli\u003eè»¢ç½®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã«ç™»éŒ²ã•ã‚Œã¦ã„ã‚‹æ–‡æ›¸IDã«è©²å½“ã™ã‚‹æ–‡æ›¸ç¾¤ã®ãƒ‡ãƒ¼ã‚¿å–å¾—\u003c/li\u003e\n\u003cli\u003eå–å¾—ã—ãŸæ–‡æ›¸ç¾¤ã®é–¢é€£åº¦ã«å¿œã˜ãŸä¸¦ã³æ›¿ãˆ(æ¤œç´¢ãƒ¯ãƒ¼ãƒ‰ãŒ1èªã§ã‚ã£ãŸå ´åˆã®ã¿)\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eã¨ã„ã†4ã¤ã®å‡¦ç†ã‚’å†…éƒ¨çš„ã«å®Ÿè£…è¡Œã£ã¦ã„ã¾ã™ã€‚\u003c/p\u003e\n\u003cp\u003eSearcher.Searché–¢æ•°ã®å†…éƒ¨å‡¦ç†ãŒæ¦‚è¦³ã§ããŸã¨ã“ã‚ã§ã€\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eã‚¤ãƒ³ãƒ¡ãƒ¢ãƒªè»¢ç½®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹\u003c/li\u003e\n\u003cli\u003eæ–‡æ›¸ã®ã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eã¨ã„ã†2ç‚¹ã«ã¤ã„ã¦è£œè¶³èª¬æ˜ã‚’è¡Œãªã£ã¦ã„ãã¾ã™ã€‚\u003c/p\u003e\n\u003ch3 id=\"%E3%82%A4%E3%83%B3%E3%83%A1%E3%83%A2%E3%83%AA%E8%BB%A2%E7%BD%AE%E3%82%A4%E3%83%B3%E3%83%87%E3%83%83%E3%82%AF%E3%82%B9\"\u003e\n\u003ca class=\"header-anchor-link\" href=\"#%E3%82%A4%E3%83%B3%E3%83%A1%E3%83%A2%E3%83%AA%E8%BB%A2%E7%BD%AE%E3%82%A4%E3%83%B3%E3%83%87%E3%83%83%E3%82%AF%E3%82%B9\" aria-hidden=\"true\"\u003e\u003c/a\u003e ã‚¤ãƒ³ãƒ¡ãƒ¢ãƒªè»¢ç½®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹\u003c/h3\u003e\n\u003cp\u003eæ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³ã§ã¯ã€æ¤œç´¢å‡¦ç†ã®é«˜é€ŸåŒ–ã®ãŸã‚ã®å·¥å¤«ã¨ã—ã¦ã€ã€Œæ–‡æ›¸å†…ã§é »å‡ºã™ã‚‹ã‚¿ãƒ¼ãƒ ã€ã‚„ã€Œã‚ˆãæ¤œç´¢ã•ã‚Œã‚‹ã‚¿ãƒ¼ãƒ ã€ã‚’ä¸­å¿ƒã«è»¢ç½®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã®ä¸€éƒ¨ã‚’ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸(RDBç­‰)ã§ã¯ãªãã€ã‚¤ãƒ³ãƒ¡ãƒ¢ãƒªã«ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã—ã¦ãŠãã“ã¨ãŒä¸€èˆ¬çš„ã§ã™ã€‚\u003c/p\u003e\n\u003cp\u003eOmochiã§ã¯ã€Searcheræ§‹é€ ä½“ã«\u003ccode\u003einvertIndexCached\u003c/code\u003eã¨ã„ã†mapå‹(key:ã‚¿ãƒ¼ãƒ (å˜èª),value:è»¢ç½®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹)ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’ç”¨æ„ã™ã‚‹ã“ã¨ã§ãã‚Œã‚’å®Ÿç¾ã—ã¾ã—ãŸã€‚\u003c/p\u003e\n\u003cdiv class=\"code-block-container\"\u003e\u003cpre class=\"language-go\"\u003e\u003ccode class=\"language-go\"\u003e\u003cspan class=\"token keyword\"\u003epackage\u003c/span\u003e searcher\n\n\u003cspan class=\"token operator\"\u003e...\u003c/span\u003e\n\n\u003cspan class=\"token keyword\"\u003etype\u003c/span\u003e Searcher \u003cspan class=\"token keyword\"\u003estruct\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n\tinvertIndexCached  \u003cspan class=\"token keyword\"\u003emap\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token builtin\"\u003estring\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token operator\"\u003e*\u003c/span\u003eentities\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eInvertIndex \u003cspan class=\"token comment\"\u003e// è»¢ç½®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã®ä¸€éƒ¨ã‚’ã‚¤ãƒ³ãƒ¡ãƒ¢ãƒªã§æ ¼ç´ã™ã‚‹ãŸã‚ã®è¾æ›¸å‹å¤‰æ•°\u003c/span\u003e\n\t\u003cspan class=\"token operator\"\u003e...\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e\u003ccode\u003eSearcher.Search\u003c/code\u003eé–¢æ•°ã§ã¯ã€æ¤œç´¢ãƒ¯ãƒ¼ãƒ‰ã«è©²å½“ã™ã‚‹è»¢ç½®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚’å–å¾—ã™ã‚‹éš›ã€ã„ããªã‚Šã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã«ã¯å•ã„åˆã‚ã›ãšã€ã¾ãšã€\u003ccode\u003einvertIndexCached\u003c/code\u003eå†…ã«ã€è©²å½“ã™ã‚‹è»¢ç½®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ãŒå­˜åœ¨ã—ãªã„ã‹ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ã„ã¾ã™ã€‚\u003c/p\u003e\n\u003ch3 id=\"%E6%96%87%E6%9B%B8%E3%81%AE%E3%82%B9%E3%82%B3%E3%82%A2%E3%83%AA%E3%83%B3%E3%82%B0\"\u003e\n\u003ca class=\"header-anchor-link\" href=\"#%E6%96%87%E6%9B%B8%E3%81%AE%E3%82%B9%E3%82%B3%E3%82%A2%E3%83%AA%E3%83%B3%E3%82%B0\" aria-hidden=\"true\"\u003e\u003c/a\u003e æ–‡æ›¸ã®ã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°\u003c/h3\u003e\n\u003cp\u003eGoogleã‚’ã¯ã˜ã‚ã¨ã™ã‚‹æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³ã§ã¯ã€ç‹¬è‡ªã®ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã«ã‚ˆã‚Šã€æ¤œç´¢ãƒ¯ãƒ¼ãƒ‰ã«å¯¾ã™ã‚‹æ–‡æ›¸ã®é–¢é€£åº¦ã‚’ç®—å‡ºã—ã€é–¢é€£åº¦ãŒé«˜ã„ã‚‚ã®ã‹ã‚‰é †ç•ªã«æ¤œç´¢çµæœã‚’æç¤ºã—ã¦ã„ã¾ã™ã€‚\u003c/p\u003e\n\u003cp\u003eç¾æ™‚ç‚¹ã®ã€Omochiã¯æ¤œç´¢ãƒ¯ãƒ¼ãƒ‰ãŒ1èªã§ã‚ã£ãŸå ´åˆã®ã¿ã€é–¢é€£åº¦ã«å¿œã˜ã¦æ¤œç´¢çµæœã¨ãªã‚‹æ–‡æ›¸ãŒä¸¦ã³æ›¿ãˆã‚‰ã‚Œã‚‹ã‚ˆã†ã«å®Ÿè£…ã•ã‚Œã¦ã„ã¾ã™ã€‚é–¢é€£åº¦ã®ç®—å‡ºã«ã¯ã€TF-IDFã‚’æ¡ç”¨ã—ã¾ã—ãŸã€‚\u003c/p\u003e\n\u003csection class=\"zenn-katex\"\u003e\u003ceqn\u003e\u003cembed-katex display-mode=\"1\"\u003eTF_i(t) = freq(t,d_i)\u003c/embed-katex\u003e\u003c/eqn\u003e\u003c/section\u003e\n\u003csection class=\"zenn-katex\"\u003e\u003ceqn\u003e\u003cembed-katex display-mode=\"1\"\u003eIDF(t) = log((1+n)/(1+df_t))\u003c/embed-katex\u003e\u003c/eqn\u003e\u003c/section\u003e\n\u003csection class=\"zenn-katex\"\u003e\u003ceqn\u003e\u003cembed-katex display-mode=\"1\"\u003eTF\\verb|-|IDF_i(t) = TF_i(t) * (IDF(t) + 1)\u003c/embed-katex\u003e\u003c/eqn\u003e\u003c/section\u003e\n\u003cp\u003eTF-IDFã«ã‚ˆã‚‹æ–‡æ›¸ã®ä¸¦ã³æ›¿ãˆã¯ã€\u003ca href=\"https://github.com/YadaYuki/omochi/blob/yadayuki/add-readme/pkg/infrastructure/documentranker/tfidfranker/tf_idf_document_ranker.go#L14\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003eTfIdfDocumentRanker\u003c/a\u003eã¨ã„ã†æ§‹é€ ä½“ã§å®Ÿè£…ã•ã‚Œã¦ã„ã¾ã™ã€‚é•·ããªã‚‹ãŸã‚ã“ã“ã«ã¯æ²è¼‰ã—ã¾ã›ã‚“ãŒã€èˆˆå‘³ãŒã‚ã‚‹æ–¹ã¯ãœã²è¦‹ã¦ã¿ã¦ãã ã•ã„ã€‚\u003c/p\u003e\n\u003cp\u003eä»¥ä¸Šã®2ç‚¹ã‚’è¸ã¾ãˆã¦ã€Searcherã®å®Ÿè£…ã‚’è¦‹ã¦ã¿ã¾ã—ã‚‡ã†ã€‚\u003c/p\u003e\n\u003cdiv class=\"code-block-container\"\u003e\u003cpre class=\"language-go\"\u003e\u003ccode class=\"language-go\"\u003e\u003cspan class=\"token keyword\"\u003epackage\u003c/span\u003e searcher\n\n\u003cspan class=\"token keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\n\t\u003cspan class=\"token string\"\u003e\"context\"\u003c/span\u003e\n\t\u003cspan class=\"token string\"\u003e\"fmt\"\u003c/span\u003e\n\t\u003cspan class=\"token string\"\u003e\"log\"\u003c/span\u003e\n\n\t\u003cspan class=\"token string\"\u003e\"github.com/YadaYuki/omochi/pkg/domain/entities\"\u003c/span\u003e\n\t\u003cspan class=\"token string\"\u003e\"github.com/YadaYuki/omochi/pkg/domain/repository\"\u003c/span\u003e\n\t\u003cspan class=\"token string\"\u003e\"github.com/YadaYuki/omochi/pkg/domain/service\"\u003c/span\u003e\n\t\u003cspan class=\"token string\"\u003e\"github.com/YadaYuki/omochi/pkg/errors\"\u003c/span\u003e\n\t\u003cspan class=\"token string\"\u003e\"github.com/YadaYuki/omochi/pkg/errors/code\"\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\n\u003cspan class=\"token keyword\"\u003etype\u003c/span\u003e Searcher \u003cspan class=\"token keyword\"\u003estruct\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n\tinvertIndexCached  \u003cspan class=\"token keyword\"\u003emap\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token builtin\"\u003estring\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token operator\"\u003e*\u003c/span\u003eentities\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eInvertIndex\n\ttermRepository     repository\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eTermRepository\n\tdocumentRepository repository\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eDocumentRepository\n\tcompresser         service\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eInvertIndexCompresser\n\tdocumentRanker     service\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eDocumentRanker\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"token keyword\"\u003efunc\u003c/span\u003e \u003cspan class=\"token function\"\u003eNewSearcher\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003einvertIndexCached \u003cspan class=\"token keyword\"\u003emap\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token builtin\"\u003estring\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token operator\"\u003e*\u003c/span\u003eentities\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eInvertIndex\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e termRepository repository\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eTermRepository\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e documentRepository repository\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eDocumentRepository\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e compresser service\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eInvertIndexCompresser\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e documentRanker service\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eDocumentRanker\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e service\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eSearcher \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n\t\u003cspan class=\"token keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"token operator\"\u003e\u0026amp;\u003c/span\u003eSearcher\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003einvertIndexCached\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e termRepository\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e documentRepository\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e compresser\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e documentRanker\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"token keyword\"\u003efunc\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003es \u003cspan class=\"token operator\"\u003e*\u003c/span\u003eSearcher\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token function\"\u003eSearch\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ectx context\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eContext\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e query \u003cspan class=\"token operator\"\u003e*\u003c/span\u003eentities\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eQuery\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token operator\"\u003e*\u003c/span\u003eentities\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eDocument\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token operator\"\u003e*\u003c/span\u003eerrors\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eError\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n\n\t\u003cspan class=\"token keyword\"\u003eif\u003c/span\u003e \u003cspan class=\"token function\"\u003elen\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token operator\"\u003e*\u003c/span\u003equery\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eKeywords\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token operator\"\u003e==\u003c/span\u003e \u003cspan class=\"token number\"\u003e1\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n\t\t\u003cspan class=\"token keyword\"\u003ereturn\u003c/span\u003e s\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003esearchBySingleKeyword\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ectx\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e query\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\t\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\t\u003cspan class=\"token keyword\"\u003eswitch\u003c/span\u003e query\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eSearchMode \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// SearchModeã«ã‚ˆã‚‹æ¡ä»¶åˆ†å²\u003c/span\u003e\n\t\u003cspan class=\"token keyword\"\u003ecase\u003c/span\u003e entities\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eOr\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e\n\t\t\u003cspan class=\"token keyword\"\u003ereturn\u003c/span\u003e s\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003esearchOr\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ectx\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e query\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\n\t\u003cspan class=\"token keyword\"\u003ecase\u003c/span\u003e entities\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eAnd\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e\n\t\t\u003cspan class=\"token keyword\"\u003ereturn\u003c/span\u003e s\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003esearchAnd\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ectx\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e query\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\n\t\u003cspan class=\"token keyword\"\u003edefault\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e\n\t\t\u003cspan class=\"token keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"token boolean\"\u003enil\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e errors\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eNewError\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ecode\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eUnknown\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e fmt\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eSprintf\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"unsupported search mode: %s\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e query\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eSearchMode\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\t\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"token keyword\"\u003efunc\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003es \u003cspan class=\"token operator\"\u003e*\u003c/span\u003eSearcher\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token function\"\u003esearchBySingleKeyword\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ectx context\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eContext\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e query \u003cspan class=\"token operator\"\u003e*\u003c/span\u003eentities\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eQuery\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token operator\"\u003e*\u003c/span\u003eentities\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eDocument\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token operator\"\u003e*\u003c/span\u003eerrors\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eError\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n\tinvertIndex\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e ok \u003cspan class=\"token operator\"\u003e:=\u003c/span\u003e s\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003einvertIndexCached\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token operator\"\u003e*\u003c/span\u003equery\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eKeywords\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token number\"\u003e0\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// ã‚¤ãƒ³ãƒ¡ãƒ¢ãƒªã®è»¢ç½®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚’ãƒã‚§ãƒƒã‚¯\u003c/span\u003e\n\t\u003cspan class=\"token keyword\"\u003eif\u003c/span\u003e \u003cspan class=\"token operator\"\u003e!\u003c/span\u003eok \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n\t\ttermCompressed\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e err \u003cspan class=\"token operator\"\u003e:=\u003c/span\u003e s\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003etermRepository\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eFindTermCompressedByWord\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ectx\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token operator\"\u003e*\u003c/span\u003equery\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eKeywords\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token number\"\u003e0\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// åœ§ç¸®æ¸ˆã¿è»¢ç½®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹(InvertIndexCompressed)ã®å–å¾—\u003c/span\u003e\n\t\t\u003cspan class=\"token keyword\"\u003eif\u003c/span\u003e err \u003cspan class=\"token operator\"\u003e!=\u003c/span\u003e \u003cspan class=\"token boolean\"\u003enil\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n\t\t\t\u003cspan class=\"token keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"token boolean\"\u003enil\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e errors\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eNewError\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eerr\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eCode\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e err\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\t\t\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\t\tinvertIndexCompressed \u003cspan class=\"token operator\"\u003e:=\u003c/span\u003e termCompressed\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eInvertIndexCompressed\n\t\tinvertIndex\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e err \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e s\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003ecompresser\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eDecompress\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ectx\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e invertIndexCompressed\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// è»¢ç½®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã®è§£å‡\u003c/span\u003e\n\t\t\u003cspan class=\"token keyword\"\u003eif\u003c/span\u003e err \u003cspan class=\"token operator\"\u003e!=\u003c/span\u003e \u003cspan class=\"token boolean\"\u003enil\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n\t\t\t\u003cspan class=\"token keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"token boolean\"\u003enil\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e errors\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eNewError\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eerr\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eCode\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e err\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\t\t\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\t\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\n\tdocumentIds \u003cspan class=\"token operator\"\u003e:=\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token builtin\"\u003eint64\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\t\u003cspan class=\"token keyword\"\u003efor\u003c/span\u003e \u003cspan class=\"token boolean\"\u003e_\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e postingList \u003cspan class=\"token operator\"\u003e:=\u003c/span\u003e \u003cspan class=\"token keyword\"\u003erange\u003c/span\u003e \u003cspan class=\"token operator\"\u003e*\u003c/span\u003einvertIndex\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003ePostingList \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n\t\tdocumentIds \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token function\"\u003eappend\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003edocumentIds\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e postingList\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eDocumentRelatedId\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\t\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\n\tdocuments\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e documentErr \u003cspan class=\"token operator\"\u003e:=\u003c/span\u003e s\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003edocumentRepository\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eFindDocumentsByIds\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ectx\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token operator\"\u003e\u0026amp;\u003c/span\u003edocumentIds\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// è»¢ç½®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã«ç™»éŒ²ã•ã‚Œã¦ã„ã‚‹æ–‡æ›¸IDã«è©²å½“ã™ã‚‹æ–‡æ›¸ç¾¤ã®ãƒ‡ãƒ¼ã‚¿å–å¾—\u003c/span\u003e\n\t\u003cspan class=\"token keyword\"\u003eif\u003c/span\u003e documentErr \u003cspan class=\"token operator\"\u003e!=\u003c/span\u003e \u003cspan class=\"token boolean\"\u003enil\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n\t\t\u003cspan class=\"token keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"token boolean\"\u003enil\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e errors\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eNewError\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003edocumentErr\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eCode\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e documentErr\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\t\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\tsortedDocument\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e sortErr \u003cspan class=\"token operator\"\u003e:=\u003c/span\u003e s\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003edocumentRanker\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eSortDocumentByScore\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ectx\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token operator\"\u003e*\u003c/span\u003equery\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eKeywords\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token number\"\u003e0\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e documents\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// å–å¾—ã—ãŸæ–‡æ›¸ç¾¤ã®é–¢é€£åº¦ã«å¿œã˜ãŸä¸¦ã³æ›¿ãˆ\u003c/span\u003e\n\t\u003cspan class=\"token keyword\"\u003eif\u003c/span\u003e sortErr \u003cspan class=\"token operator\"\u003e!=\u003c/span\u003e \u003cspan class=\"token boolean\"\u003enil\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n\t\t\u003cspan class=\"token keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"token boolean\"\u003enil\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e errors\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eNewError\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003esortErr\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eCode\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e sortErr\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\t\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\t\u003cspan class=\"token keyword\"\u003ereturn\u003c/span\u003e sortedDocument\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token boolean\"\u003enil\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"token keyword\"\u003efunc\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003es \u003cspan class=\"token operator\"\u003e*\u003c/span\u003eSearcher\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token function\"\u003esearchOr\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ectx context\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eContext\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e query \u003cspan class=\"token operator\"\u003e*\u003c/span\u003eentities\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eQuery\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token operator\"\u003e*\u003c/span\u003eentities\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eDocument\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token operator\"\u003e*\u003c/span\u003eerrors\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eError\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n\t\u003cspan class=\"token operator\"\u003e...\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003eORæ¤œç´¢ã®å®Ÿè£…\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"token keyword\"\u003efunc\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003es \u003cspan class=\"token operator\"\u003e*\u003c/span\u003eSearcher\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token function\"\u003esearchAnd\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ectx context\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eContext\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e query \u003cspan class=\"token operator\"\u003e*\u003c/span\u003eentities\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eQuery\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token operator\"\u003e*\u003c/span\u003eentities\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eDocument\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token operator\"\u003e*\u003c/span\u003eerrors\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eError\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n\t\u003cspan class=\"token operator\"\u003e...\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003eANDæ¤œç´¢ã®å®Ÿè£…\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eä»¥ä¸ŠãŒã‚µãƒ¼ãƒãƒ£ã®å®Ÿè£…(Searcher)ã®èª¬æ˜ã«ãªã‚Šã¾ã™ã€‚\u003c/p\u003e\n\u003ch1 id=\"7.%E5%8B%95%E4%BD%9C%E7%A2%BA%E8%AA%8D%E3%83%BB%E3%83%87%E3%83%A2\"\u003e\n\u003ca class=\"header-anchor-link\" href=\"#7.%E5%8B%95%E4%BD%9C%E7%A2%BA%E8%AA%8D%E3%83%BB%E3%83%87%E3%83%A2\" aria-hidden=\"true\"\u003e\u003c/a\u003e 7.å‹•ä½œç¢ºèªãƒ»ãƒ‡ãƒ¢\u003c/h1\u003e\n\u003ch2 id=\"7.1-%E4%BA%8B%E5%89%8D%E6%BA%96%E5%82%99\"\u003e\n\u003ca class=\"header-anchor-link\" href=\"#7.1-%E4%BA%8B%E5%89%8D%E6%BA%96%E5%82%99\" aria-hidden=\"true\"\u003e\u003c/a\u003e 7.1 äº‹å‰æº–å‚™\u003c/h2\u003e\n\u003cp\u003eæœ¬ç« ã§ã¯ã€æ•°åƒä»¶ã€œæ•°ä¸‡ä»¶ç¨‹åº¦ã®ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã‚’ç”¨ã„ã¦ã€å®Ÿéš›ã«Omochiã«ã‚ˆã‚‹å…¨æ–‡æ¤œç´¢ã‚’è©¦ã—ã¦ã„ãã¾ã™ã€‚ãƒªãƒã‚¸ãƒˆãƒªå†…ã«ã¯ã€OmochiãŒå¯¾å¿œã™ã‚‹è¨€èªã§ã‚ã‚‹æ—¥æœ¬èªã¨è‹±èªã®ãã‚Œãã‚Œã«å¯¾ã—ã¦ã€ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã‚’ç”¨æ„ã—ã¾ã—ãŸã€‚\u003c/p\u003e\n\u003cp\u003eæ—¥æœ¬èªã®ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã¨ã—ã¦ã¯ã€æœ¬è¨˜äº‹ã®ç­†è€…ãŒæœ€ã‚‚æ„›ã™ã‚‹æ¼«ç”»ã®ä¸€ã¤ã§ã‚ã‚‹ã€Œ\u003ca href=\"https://dora-world.com/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003eãƒ‰ãƒ©ãˆã‚‚ã‚“\u003c/a\u003eã€ã®ã‚³ãƒŸãƒƒã‚¯ã‚¿ã‚¤ãƒˆãƒ«(1,316ä»¶)ã‚’ä½¿ç”¨ã•ã›ã¦ã„ãŸã ãã¾ã™ã€‚(è‹±èªã®ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã«ã¯\u003ca href=\"https://www.kaggle.com/datasets/rounakbanik/the-movies-dataset\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003e45,466ä»¶ã®æ˜ ç”»ã‚¿ã‚¤ãƒˆãƒ«ã®ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆ\u003c/a\u003eã‚’ä½¿ç”¨ã•ã›ã¦ã„ãŸã ãã¾ã—ãŸã€‚)\u003c/p\u003e\n\u003cp\u003eã“ã“ã§ã¯ã€ä¾‹ã¨ã—ã¦ã€æ—¥æœ¬èªã®ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆã‚’ç”¨ã„ãŸæ¤œç´¢ã®å‹•ä½œç¢ºèªã‚’è¡Œã„ã¾ã™ã€‚\u003c/p\u003e\n\u003cp\u003eæ¤œç´¢ã‚’å®Ÿè¡Œã—ã¦ã„ãå‰ã«äº‹å‰æº–å‚™ã¨ã—ã¦ã€\u003ca href=\"https://github.com/YadaYuki/omochi/blob/master/cmd/seeds/data/ja/doraemon.tsv\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003eTSVãƒ•ã‚¡ã‚¤ãƒ«ã§ç”¨æ„ã•ã‚Œã¦ã„ã‚‹æ–‡æ›¸ã®ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿(ãƒ‰ãƒ©ãˆã‚‚ã‚“ã®ã‚³ãƒŸãƒƒã‚¯ã‚¿ã‚¤ãƒˆãƒ«)\u003c/a\u003eã‚’ã‚¤ãƒ³ãƒ‡ã‚¯ã‚µã«ã‚ˆã‚Šã€æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³ã«ç™»éŒ²ã—ã¾ã™ã€‚\u003c/p\u003e\n\u003cp\u003eREADME.mdã®ã€ŒSetupã€ã®ç« ã«æ›¸ã‹ã‚ŒãŸæ‰‹é †ã«ã‚ˆã‚Šã€Dockerã®ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ä½œæˆã‚„DBã®ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ç­‰ã¯çµ‚ãˆã¦ã„ã‚‹æƒ³å®šã§ã€\u003ccode\u003eapi\u003c/code\u003eã‚³ãƒ³ãƒ†ãƒŠå†…éƒ¨ã§ä»¥ä¸‹ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚\u003c/p\u003e\n\u003cdiv class=\"code-block-container\"\u003e\u003cpre\u003e\u003ccode\u003e$ go run ./cmd/seeds/ja/seed.go\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eä¸Šã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã€æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³ã«TSVä¸Šã®ãƒ‰ãƒ©ãˆã‚‚ã‚“ã‚³ãƒŸãƒƒã‚¯ã‚¿ã‚¤ãƒˆãƒ«ãŒã€æ¤œç´¢å¯¾è±¡ã®æ–‡æ›¸ã¨ã—ã¦ä¸¦è¡Œã«ç™»éŒ²ã•ã‚Œã¦ã„ãã¾ã™ã€‚\u003c/p\u003e\n\u003cp\u003eä¸Šæ‰‹ãæ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³ã¸ã®ç™»éŒ²ãŒå®Ÿè¡Œã§ããŸå ´åˆã€ä»¥ä¸‹ã®ã‚ˆã†ãªå‡ºåŠ›ãŒå¾—ã‚‰ã‚Œã¾ã™ã€‚\u003c/p\u003e\n\u003cdiv class=\"code-block-container\"\u003e\u003cpre\u003e\u003ccode\u003e$ go run ./cmd/seeds/ja/seed.go \n2022/07/23 19:50:57 start indexing documents\n2022/07/23 19:50:57 indexed: ã€ŒçœŸå®Ÿã®æ——å°ã€ã¯ã¤ã­ã«æ­£ã—ã„\n2022/07/23 19:50:57 indexed: çŸ³ã“ã‚ã¼ã†ã—\n2022/07/23 19:50:57 indexed: ãƒ‰ãƒ©ãˆã‚‚ã‚“ã‚ã’ã‚‹\n2022/07/23 19:50:57 indexed: ç©ºã¨ã¶è·ãµã \n2022/07/23 19:50:57 indexed: ãƒ¡ãƒ¢ãƒªãƒ¼ãƒ‡ã‚£ã‚¹ã‚¯\n2022/07/23 19:50:57 indexed: å‹•ç‰©æŒ‡ã‚­ãƒ£ãƒƒãƒ—\n2022/07/23 19:50:57 indexed: ãƒ‰ãƒ©ãˆã‚‚ã‚“ãŒã‚„ã£ã¦ããŸ\n....\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eä»¥ä¸Šã§ã€ãƒ‡ãƒ¢ã®ãŸã‚ã®äº‹å‰æº–å‚™ã¯å®Œäº†ã§ã™ï¼\u003c/p\u003e\n\u003ch2 id=\"7.2-%E3%83%89%E3%83%A9%E3%81%88%E3%82%82%E3%82%93%E3%81%AE%E3%82%B3%E3%83%9F%E3%83%83%E3%82%AF%E3%82%BF%E3%82%A4%E3%83%88%E3%83%AB%E3%82%92%E6%A4%9C%E7%B4%A2%E3%81%99%E3%82%8B\"\u003e\n\u003ca class=\"header-anchor-link\" href=\"#7.2-%E3%83%89%E3%83%A9%E3%81%88%E3%82%82%E3%82%93%E3%81%AE%E3%82%B3%E3%83%9F%E3%83%83%E3%82%AF%E3%82%BF%E3%82%A4%E3%83%88%E3%83%AB%E3%82%92%E6%A4%9C%E7%B4%A2%E3%81%99%E3%82%8B\" aria-hidden=\"true\"\u003e\u003c/a\u003e 7.2 ãƒ‰ãƒ©ãˆã‚‚ã‚“ã®ã‚³ãƒŸãƒƒã‚¯ã‚¿ã‚¤ãƒˆãƒ«ã‚’æ¤œç´¢ã™ã‚‹\u003c/h2\u003e\n\u003cp\u003eã•ã¦ã€é•·ã„é“ã®ã‚Šã§ã—ãŸãŒã€ã„ã‚ˆã„ã‚ˆæ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³ã‚’è©¦ã—ã¦ã„ãã¾ã™ã€‚\u003c/p\u003e\n\u003cp\u003eæ—¢ã«è¿°ã¹ãŸé€šã‚Šã€Omochiã¯RESTful APIçµŒç”±ã§ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰æ¤œç´¢ã‚’å®Ÿè¡Œã™ã‚‹ã“ã¨ãŒå¯èƒ½ã§ã™ã€‚\u003ccode\u003e/v1/document/search\u003c/code\u003e ã«ä»¥ä¸‹ã®2ã¤ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’ä»˜ä¸ã—ã¦ã€HTTP GETãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ä¿¡ã—ã¾ã™ã€‚\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cstrong\u003e\u003ccode\u003e\"keywords\"\u003c/code\u003e\u003c/strong\u003e: æ¤œç´¢ãƒ¯ãƒ¼ãƒ‰. æ¤œç´¢ãƒ¯ãƒ¼ãƒ‰ãŒè¤‡æ•°ã®å ´åˆã¯\u003ccode\u003e\"hoge,fuga,piyo\"\u003c/code\u003eã®ã‚ˆã†ã«\",\"(ã‚«ãƒ³ãƒ)åŒºåˆ‡ã‚Šã§æŒ‡å®šã™ã‚‹\u003c/li\u003e\n\u003cli\u003e\n\u003cstrong\u003e\u003ccode\u003e\"mode\"\u003c/code\u003e\u003c/strong\u003e: æ¤œç´¢ãƒ¢ãƒ¼ãƒ‰. \u003ccode\u003e\"And\"\u003c/code\u003e ã‚‚ã—ãã¯ \u003ccode\u003e\"Or\"\u003c/code\u003e ãŒæŒ‡å®šå¯èƒ½(Optional)\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003ccode\u003ecurl\u003c/code\u003eã‚³ãƒãƒ³ãƒ‰ã«ã‚ˆã‚Šã€æ¤œç´¢æ©Ÿèƒ½ã®å‹•ä½œç¢ºèªã‚’è¡Œã„ã¾ã™ã€‚ã¾ãšã¯ã€\u003ccode\u003e\"keywords\"=\"ãƒ‰ãƒ©ãˆã‚‚ã‚“\"\u003c/code\u003e,\u003ccode\u003e\"mode\"=null\u003c/code\u003eã¨ã—ã¦ã€â€ãƒ‰ãƒ©ãˆã‚‚ã‚“â€ã¨ã„ã†å˜èªãŒå«ã¾ã‚Œã‚‹æ–‡æ›¸ã‚’æ¤œç´¢ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚\u003c/p\u003e\n\u003cdiv class=\"code-block-container\"\u003e\u003cpre class=\"language-bash\"\u003e\u003ccode class=\"language-bash\"\u003e$ \u003cspan class=\"token function\"\u003ecurl\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"http://localhost:8081/v1/document/search?keywords=ãƒ‰ãƒ©ãˆã‚‚ã‚“\"\u003c/span\u003e \u003cspan class=\"token operator\"\u003e|\u003c/span\u003e jq \u003cspan class=\"token builtin class-name\"\u003e.\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token string\"\u003e\"documents\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n      \u003cspan class=\"token string\"\u003e\"id\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e \u003cspan class=\"token number\"\u003e3492\u003c/span\u003e,\n      \u003cspan class=\"token string\"\u003e\"content\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"ãƒ‰ãƒ©ãˆã‚‚ã‚“ã®æ­Œ\"\u003c/span\u003e,\n      \u003cspan class=\"token string\"\u003e\"tokenized_content\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\n        \u003cspan class=\"token string\"\u003e\"ãƒ‰ãƒ©ãˆã‚‚ã‚“\"\u003c/span\u003e,\n        \u003cspan class=\"token string\"\u003e\"æ­Œ\"\u003c/span\u003e\n      \u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e,\n      \u003cspan class=\"token string\"\u003e\"created_at\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"2022-07-23T19:56:22+09:00\"\u003c/span\u003e,\n      \u003cspan class=\"token string\"\u003e\"updated_at\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"2022-07-23T19:56:22+09:00\"\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e,\n    \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n      \u003cspan class=\"token string\"\u003e\"id\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e \u003cspan class=\"token number\"\u003e3250\u003c/span\u003e,\n      \u003cspan class=\"token string\"\u003e\"content\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"ãƒ‰ãƒ©ãˆã‚‚ã‚“ã ã‚‰ã‘\"\u003c/span\u003e,\n      \u003cspan class=\"token string\"\u003e\"tokenized_content\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\n        \u003cspan class=\"token string\"\u003e\"ãƒ‰ãƒ©ãˆã‚‚ã‚“\"\u003c/span\u003e,\n        \u003cspan class=\"token string\"\u003e\"ã ã‚‰ã‘\"\u003c/span\u003e\n      \u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e,\n      \u003cspan class=\"token string\"\u003e\"created_at\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"2022-07-23T19:56:21+09:00\"\u003c/span\u003e,\n      \u003cspan class=\"token string\"\u003e\"updated_at\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"2022-07-23T19:56:21+09:00\"\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e,\n    \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n      \u003cspan class=\"token string\"\u003e\"id\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e \u003cspan class=\"token number\"\u003e2691\u003c/span\u003e,\n      \u003cspan class=\"token string\"\u003e\"content\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"ãƒ‰ãƒ©ãˆã‚‚ã‚“ç™»å ´ï¼\"\u003c/span\u003e,\n      \u003cspan class=\"token string\"\u003e\"tokenized_content\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\n        \u003cspan class=\"token string\"\u003e\"ãƒ‰ãƒ©ãˆã‚‚ã‚“\"\u003c/span\u003e,\n        \u003cspan class=\"token string\"\u003e\"ç™»å ´\"\u003c/span\u003e\n      \u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e,\n      \u003cspan class=\"token string\"\u003e\"created_at\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"2022-07-23T19:56:18+09:00\"\u003c/span\u003e,\n      \u003cspan class=\"token string\"\u003e\"updated_at\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"2022-07-23T19:56:18+09:00\"\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e,\n    \u003cspan class=\"token punctuation\"\u003e..\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e..\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eã€Œãƒ‰ãƒ©ãˆã‚‚ã‚“ã®æ­Œã€,ã€Œãƒ‰ãƒ©ãˆã‚‚ã‚“ã ã‚‰ã‘ã€...ãªã©ã€\"ãƒ‰ãƒ©ãˆã‚‚ã‚“\"ã¨ã„ã†å˜èªã‚’å«ã‚€æ–‡æ›¸ã®ã¿ã‚’æ­£ã—ãæ¤œç´¢ã§ãã¦ã„ã‚‹ã“ã¨ãŒã‚ã‹ã‚Šã¾ã™ã€‚\u003c/p\u003e\n\u003cp\u003eæ¬¡ã«ã€Andæ¤œç´¢ã‚’è©¦ã—ã¦ã¿ã¾ã™ã€‚\u003ccode\u003e\"keywords\"=\"ã®ã³å¤ª,ã‚¸ãƒ£ã‚¤ã‚¢ãƒ³\"\u003c/code\u003e,\u003ccode\u003e\"mode\"=And\u003c/code\u003eã¨ã—ã¦ã€â€ã®ã³å¤ªâ€ã¨â€ã‚¸ãƒ£ã‚¤ã‚¢ãƒ³â€ã¨ã„ã†å˜èªãŒä¸¡æ–¹å«ã¾ã‚Œã‚‹æ–‡æ›¸ã‚’æ¤œç´¢ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚\u003c/p\u003e\n\u003cdiv class=\"code-block-container\"\u003e\u003cpre class=\"language-bash\"\u003e\u003ccode class=\"language-bash\"\u003e$ \u003cspan class=\"token function\"\u003ecurl\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"http://localhost:8081/v1/document/search?keywords=ã‚¸ãƒ£ã‚¤ã‚¢ãƒ³,ã®ã³å¤ª\u0026amp;mode=And\"\u003c/span\u003e \u003cspan class=\"token operator\"\u003e|\u003c/span\u003e jq \u003cspan class=\"token builtin class-name\"\u003e.\u003c/span\u003e \n\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token string\"\u003e\"documents\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n      \u003cspan class=\"token string\"\u003e\"id\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e \u003cspan class=\"token number\"\u003e3336\u003c/span\u003e,\n      \u003cspan class=\"token string\"\u003e\"content\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"ã‚¸ãƒ£ã‚¤ã‚¢ãƒ³åçœãƒ»ã®ã³å¤ªã¯ã‚ã„ã‚ãã€€\"\u003c/span\u003e,\n      \u003cspan class=\"token string\"\u003e\"tokenized_content\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\n        \u003cspan class=\"token string\"\u003e\"ã‚¸ãƒ£ã‚¤ã‚¢ãƒ³\"\u003c/span\u003e,\n        \u003cspan class=\"token string\"\u003e\"åçœ\"\u003c/span\u003e,\n        \u003cspan class=\"token string\"\u003e\"ã®ã³å¤ª\"\u003c/span\u003e,\n        \u003cspan class=\"token string\"\u003e\"ã‚ã„ã‚ã\"\u003c/span\u003e\n      \u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e,\n      \u003cspan class=\"token string\"\u003e\"created_at\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"2022-07-23T19:56:21+09:00\"\u003c/span\u003e,\n      \u003cspan class=\"token string\"\u003e\"updated_at\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"2022-07-23T19:56:21+09:00\"\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eæ¤œç´¢çµæœã¨ã—ã¦ã¯ã€ä¸€ã¤ã®ã¿ã§ã™ãŒã€â€ã®ã³å¤ªâ€ã¨â€ã‚¸ãƒ£ã‚¤ã‚¢ãƒ³â€ã®ä¸¡æ–¹ã‚’å«ã‚€æ–‡æ›¸ã‚’æ­£ã—ãæ¤œç´¢ã§ãã¦ã„ã‚‹ã“ã¨ãŒã‚ã‹ã‚Šã¾ã™ã€‚\u003c/p\u003e\n\u003cp\u003eæœ€å¾Œã«ã€Oræ¤œç´¢ã§ã™ã€‚\u003ccode\u003e\"keywords\"=\"ã®ã³å¤ª,ã‚¸ãƒ£ã‚¤ã‚¢ãƒ³\"\u003c/code\u003e(Andã¨åŒã˜),\u003ccode\u003e\"mode\"=Or\u003c/code\u003eã¨ã—ã¦ã€â€ã®ã³å¤ªâ€ã‹â€ã‚¸ãƒ£ã‚¤ã‚¢ãƒ³â€ã¨ã„ã†å˜èªã®ã„ãšã‚Œã‹ãŒå«ã¾ã‚Œã‚‹æ–‡æ›¸ã‚’æ¤œç´¢ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚\u003c/p\u003e\n\u003cdiv class=\"code-block-container\"\u003e\u003cpre class=\"language-bash\"\u003e\u003ccode class=\"language-bash\"\u003e$ \u003cspan class=\"token function\"\u003ecurl\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"http://localhost:8081/v1/document/search?keywords=ã‚¸ãƒ£ã‚¤ã‚¢ãƒ³,ã®ã³å¤ª\u0026amp;mode=Or\"\u003c/span\u003e \u003cspan class=\"token operator\"\u003e|\u003c/span\u003e jq \u003cspan class=\"token builtin class-name\"\u003e.\u003c/span\u003e \n\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token string\"\u003e\"documents\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n      \u003cspan class=\"token string\"\u003e\"id\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e \u003cspan class=\"token number\"\u003e2707\u003c/span\u003e,\n      \u003cspan class=\"token string\"\u003e\"content\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"ã‚¸ãƒ£ã‚¤ã‚¢ãƒ³ã‚ˆã„å­ã ã­ã‚“ã­ã—ãª\"\u003c/span\u003e,\n      \u003cspan class=\"token string\"\u003e\"tokenized_content\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\n        \u003cspan class=\"token string\"\u003e\"ã‚¸ãƒ£ã‚¤ã‚¢ãƒ³\"\u003c/span\u003e,\n        \u003cspan class=\"token string\"\u003e\"ã‚ˆã„\"\u003c/span\u003e,\n        \u003cspan class=\"token string\"\u003e\"å­\"\u003c/span\u003e,\n        \u003cspan class=\"token string\"\u003e\"ã­ã‚“ã­\"\u003c/span\u003e,\n        \u003cspan class=\"token string\"\u003e\"ã—ãª\"\u003c/span\u003e\n      \u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e,\n      \u003cspan class=\"token string\"\u003e\"created_at\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"2022-07-23T19:56:18+09:00\"\u003c/span\u003e,\n      \u003cspan class=\"token string\"\u003e\"updated_at\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"2022-07-23T19:56:18+09:00\"\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e,\n    \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n      \u003cspan class=\"token string\"\u003e\"id\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e \u003cspan class=\"token number\"\u003e2720\u003c/span\u003e,\n      \u003cspan class=\"token string\"\u003e\"content\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"ã®ã³å¤ªã®ãƒ–ãƒ©ãƒƒã‚¯ãƒ›ãƒ¼ãƒ«\"\u003c/span\u003e,\n      \u003cspan class=\"token string\"\u003e\"tokenized_content\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\n        \u003cspan class=\"token string\"\u003e\"ã®ã³å¤ª\"\u003c/span\u003e,\n        \u003cspan class=\"token string\"\u003e\"ãƒ–ãƒ©ãƒƒã‚¯ãƒ›ãƒ¼ãƒ«\"\u003c/span\u003e\n      \u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e,\n      \u003cspan class=\"token string\"\u003e\"created_at\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"2022-07-23T19:56:18+09:00\"\u003c/span\u003e,\n      \u003cspan class=\"token string\"\u003e\"updated_at\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"2022-07-23T19:56:18+09:00\"\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e,\n    \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n      \u003cspan class=\"token string\"\u003e\"id\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e \u003cspan class=\"token number\"\u003e2729\u003c/span\u003e,\n      \u003cspan class=\"token string\"\u003e\"content\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"ã®ã³å¤ªãŒæ¶ˆãˆã¡ã‚ƒã†ï¼Ÿ\"\u003c/span\u003e,\n      \u003cspan class=\"token string\"\u003e\"tokenized_content\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\n        \u003cspan class=\"token string\"\u003e\"ã®ã³å¤ª\"\u003c/span\u003e,\n        \u003cspan class=\"token string\"\u003e\"æ¶ˆãˆ\"\u003c/span\u003e,\n        \u003cspan class=\"token string\"\u003e\"ã¡ã‚ƒã†\"\u003c/span\u003e\n      \u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e,\n      \u003cspan class=\"token string\"\u003e\"created_at\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"2022-07-23T19:56:18+09:00\"\u003c/span\u003e,\n      \u003cspan class=\"token string\"\u003e\"updated_at\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"2022-07-23T19:56:18+09:00\"\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e,\n    \u003cspan class=\"token punctuation\"\u003e..\u003c/span\u003e. \n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eã€Œã‚¸ãƒ£ã‚¤ã‚¢ãƒ³ã‚ˆã„å­ã ã­ã‚“ã­ã—ãªã€,ã€Œã®ã³å¤ªã®ãƒ–ãƒ©ãƒƒã‚¯ãƒ›ãƒ¼ãƒ«ã€... ãªã©ã€â€ã®ã³å¤ªâ€ã‹â€ã‚¸ãƒ£ã‚¤ã‚¢ãƒ³â€ã®ã„ãšã‚Œã‹ãŒå«ã¾ã‚Œã‚‹æ–‡æ›¸ãŒæ­£ã—ãæ¤œç´¢ã§ãã¦ã„ã‚‹ã“ã¨ãŒç¢ºèªã§ãã¾ã™ã€‚\u003c/p\u003e\n\u003ch1 id=\"8.%E3%81%BE%E3%81%A8%E3%82%81\"\u003e\n\u003ca class=\"header-anchor-link\" href=\"#8.%E3%81%BE%E3%81%A8%E3%82%81\" aria-hidden=\"true\"\u003e\u003c/a\u003e 8.ã¾ã¨ã‚\u003c/h1\u003e\n\u003cp\u003eé•·ããªã‚Šã¾ã—ãŸãŒã€ä»¥ä¸ŠãŒå®Ÿè£…ã®èª¬æ˜ã«ãªã‚Šã¾ã™ã€‚\u003c/p\u003e\n\u003cp\u003eä»Šå›å®Ÿè£…ã—ãŸæ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³Omochiã¯ãƒªãƒã‚¸ãƒˆãƒªã«\u003cstrong\u003eJust a toy\u003c/strong\u003eã¨æ›¸ã‹ã‚Œã¦ã„ã‚‹é€šã‚Šã€Elasticsearchç­‰ã®æ—¢å­˜ã®ãƒ„ãƒ¼ãƒ«ã‚’æ´»ç”¨ã—ãŸæ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³ã¨æ¯”è¼ƒã™ã‚‹ã¨ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚„æ©Ÿèƒ½æ€§ã®é¢ã§å®Ÿç”¨æ€§ã¯ä½ã„ã§ã™ã€‚\u003c/p\u003e\n\u003cp\u003eã—ã‹ã—ã€Omochiã‚ˆã†ãªã®æœ€å°é™ã®æ©Ÿèƒ½ã®ã¿ã‚’æŒã¤æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³ã‚’å®Ÿè£…ã™ã‚‹ä½œæ¥­ã¯ã€è»¢ç½®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚’ã¯ã˜ã‚ã¨ã™ã‚‹æƒ…å ±æ¤œç´¢ã®åŸºç¤çŸ¥è­˜ã‚’ç†è§£ã™ã‚‹ä¸Šã§å¤§ããªåŠ©ã‘ã¨ãªã‚Šã¾ã—ãŸã€‚\u003c/p\u003e\n\u003cp\u003eæœ¬è¨˜äº‹ã‚’èª­ã‚“ã æ–¹ã®ä¸­ã§ã€Omochiã‚’æ°—ã«å…¥ã£ã¦ã‚‚ã‚‰ãˆã‚Œã°ã€\u003ca href=\"https://github.com/YadaYuki/omochi/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003eãƒªãƒã‚¸ãƒˆãƒª\u003c/a\u003eã«starã‚’ã¤ã‘ã¦ã‚‚ã‚‰ãˆã‚‹ã¨åŠ±ã¿ã«ãªã‚Šã¾ã™ã€‚\u003c/p\u003e\n\u003ch1 id=\"9.%E5%8F%82%E8%80%83%E6%96%87%E7%8C%AE\"\u003e\n\u003ca class=\"header-anchor-link\" href=\"#9.%E5%8F%82%E8%80%83%E6%96%87%E7%8C%AE\" aria-hidden=\"true\"\u003e\u003c/a\u003e 9.å‚è€ƒæ–‡çŒ®\u003c/h1\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://www.amazon.co.jp/Information-Retrieval-Implementing-Evaluating-Engines/dp/0262026511\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003eInformation Retrieval: Implementing and Evaluating Search Engines\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://www.amazon.co.jp/%E6%83%85%E5%A0%B1%E6%A4%9C%E7%B4%A2%E3%82%A2%E3%83%AB%E3%82%B4%E3%83%AA%E3%82%BA%E3%83%A0-%E5%8C%97-%E7%A0%94%E4%BA%8C/dp/4320120361/ref=pd_lpo_3?pd_rd_i=4320120361\u0026amp;psc=1\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003eæƒ…å ±æ¤œç´¢ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ \u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://www.amazon.co.jp/Python%E3%81%A7%E3%81%AF%E3%81%98%E3%82%81%E3%82%8B-%E6%83%85%E5%A0%B1%E6%A4%9C%E7%B4%A2%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0-%E4%BD%90%E8%97%A4-%E9%80%B2%E4%B9%9F/dp/4627818610\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003ePythonã§ã¯ã˜ã‚ã‚‹ æƒ…å ±æ¤œç´¢ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://www.amazon.co.jp/WEB-DB-PRESS-Vol-126-%E7%9C%9F%E5%A3%81/dp/4297125390\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003eWEB+DB PRESS Vol.126. ç‰¹é›† Goã§ä½œã£ã¦å­¦ã¶æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://www.amazon.co.jp/%E6%A4%9C%E7%B4%A2%E3%82%A8%E3%83%B3%E3%82%B8%E3%83%B3%E8%87%AA%E4%BD%9C%E5%85%A5%E9%96%80-%E6%89%8B%E3%82%92%E5%8B%95%E3%81%8B%E3%81%97%E3%81%AA%E3%81%8C%E3%82%89%E8%A6%8B%E6%B8%A1%E3%81%99%E6%A4%9C%E7%B4%A2%E3%81%AE%E8%88%9E%E5%8F%B0%E8%A3%8F-%E5%B1%B1%E7%94%B0-%E6%B5%A9%E4%B9%8B/dp/4774167533\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003eæ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³è‡ªä½œå…¥é–€ ~æ‰‹ã‚’å‹•ã‹ã—ãªãŒã‚‰è¦‹æ¸¡ã™æ¤œç´¢ã®èˆå°è£\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n",
    "og_image_url": "https://res.cloudinary.com/zenn/image/upload/s--k_F77cGj--/c_fit%2Cg_north_west%2Cl_text:notosansjp-medium.otf_55:Go%25E8%25A3%25BD%25E3%2581%25AE%25E5%2585%25A8%25E6%2596%2587%25E6%25A4%259C%25E7%25B4%25A2%25E3%2582%25A8%25E3%2583%25B3%25E3%2582%25B8%25E3%2583%25B3Omochi%25E3%2582%2592%25E4%25BD%259C%25E3%2581%25A3%25E3%2581%259F.%2Cw_1010%2Cx_90%2Cy_100/g_south_west%2Cl_text:notosansjp-medium.otf_37:%25E7%259F%25A2%25E7%2594%25B0%25E5%25AE%2599%25E7%2594%259F%2520%252F%2520Yada%2520Yuki%2Cx_203%2Cy_121/g_south_west%2Ch_90%2Cl_fetch:aHR0cHM6Ly9zdG9yYWdlLmdvb2dsZWFwaXMuY29tL3plbm4tdXNlci11cGxvYWQvYXZhdGFyLzhmZTVmOWE3YTguanBlZw==%2Cr_max%2Cw_90%2Cx_87%2Cy_95/v1627283836/default/og-base-w1200-v2.png",
    "toc": [
      {
        "id": "1.%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB",
        "text": "1.ã¯ã˜ã‚ã«",
        "level": 1,
        "children": []
      },
      {
        "id": "2.%E8%BB%A2%E7%BD%AE%E3%82%A4%E3%83%B3%E3%83%87%E3%83%83%E3%82%AF%E3%82%B9%E5%9E%8B%E3%83%BB%E5%85%A8%E6%96%87%E6%A4%9C%E7%B4%A2%E3%82%A8%E3%83%B3%E3%82%B8%E3%83%B3omochi",
        "text": "2.è»¢ç½®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹å‹ãƒ»å…¨æ–‡æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³Omochi",
        "level": 1,
        "children": []
      },
      {
        "id": "3-omochi%E3%81%AE%E6%8A%80%E8%A1%93%E9%81%B8%E5%AE%9A",
        "text": "3 Omochiã®æŠ€è¡“é¸å®š",
        "level": 1,
        "children": [
          {
            "id": "4.%E3%83%95%E3%82%A9%E3%83%AB%E3%83%80%E6%A7%8B%E6%88%90%E6%A6%82%E8%A6%B3(%E3%82%A2%E3%83%97%E3%83%AA%E3%82%B1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E8%A8%AD%E8%A8%88)",
            "text": "4.ãƒ•ã‚©ãƒ«ãƒ€æ§‹æˆæ¦‚è¦³(ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³è¨­è¨ˆ)",
            "level": 2,
            "children": []
          }
        ]
      },
      {
        "id": "5.%E3%82%A4%E3%83%B3%E3%83%87%E3%82%AF%E3%82%B5%E3%81%AE%E5%AE%9F%E8%A3%85(indexer)",
        "text": "5.ã‚¤ãƒ³ãƒ‡ã‚¯ã‚µã®å®Ÿè£…(Indexer)",
        "level": 1,
        "children": [
          {
            "id": "5.1-%E8%BB%A2%E7%BD%AE%E3%82%A4%E3%83%B3%E3%83%87%E3%83%83%E3%82%AF%E3%82%B9%E3%81%A8%E3%81%AF%EF%BC%9F",
            "text": "5.1 è»¢ç½®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã¨ã¯ï¼Ÿ",
            "level": 2,
            "children": []
          },
          {
            "id": "5.2-indexer%E3%83%BBindexingdocument%E9%96%A2%E6%95%B0",
            "text": "5.2 Indexerãƒ»IndexingDocumenté–¢æ•°",
            "level": 2,
            "children": [
              {
                "id": "%E6%96%87%E6%9B%B8%E3%82%92%E3%82%BF%E3%83%BC%E3%83%A0(%E5%8D%98%E8%AA%9E)%E3%81%AB%E5%88%86%E5%89%B2%E3%81%97%E3%80%81%E7%B4%A2%E5%BC%95%E5%AF%BE%E8%B1%A1%E3%81%A8%E3%81%AA%E3%82%8B%E3%82%BF%E3%83%BC%E3%83%A0%E3%82%92%E6%8A%BD%E5%87%BA%E3%81%99%E3%82%8B%E6%89%8B%E6%B3%95",
                "text": "æ–‡æ›¸ã‚’ã‚¿ãƒ¼ãƒ (å˜èª)ã«åˆ†å‰²ã—ã€ç´¢å¼•å¯¾è±¡ã¨ãªã‚‹ã‚¿ãƒ¼ãƒ ã‚’æŠ½å‡ºã™ã‚‹æ‰‹æ³•",
                "level": 3,
                "children": []
              },
              {
                "id": "%E8%BB%A2%E7%BD%AE%E3%82%A4%E3%83%B3%E3%83%87%E3%83%83%E3%82%AF%E3%82%B9%E3%81%AE%E5%9C%A7%E7%B8%AE%E6%89%8B%E6%B3%95",
                "text": "è»¢ç½®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã®åœ§ç¸®æ‰‹æ³•",
                "level": 3,
                "children": []
              },
              {
                "id": "%E8%BB%A2%E7%BD%AE%E3%82%A4%E3%83%B3%E3%83%87%E3%83%83%E3%82%AF%E3%82%B9(%E5%9C%A7%E7%B8%AE%E6%B8%88%E3%81%BF)%E3%83%BB%E6%96%87%E6%9B%B8%E3%81%AE%E6%B0%B8%E7%B6%9A%E5%8C%96",
                "text": "è»¢ç½®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹(åœ§ç¸®æ¸ˆã¿)ãƒ»æ–‡æ›¸ã®æ°¸ç¶šåŒ–",
                "level": 3,
                "children": []
              }
            ]
          }
        ]
      },
      {
        "id": "6.%E3%82%B5%E3%83%BC%E3%83%81%E3%83%A3%E3%81%AE%E5%AE%9F%E8%A3%85(searcher)",
        "text": "6.ã‚µãƒ¼ãƒãƒ£ã®å®Ÿè£…(Searcher)",
        "level": 1,
        "children": [
          {
            "id": "%E3%82%A4%E3%83%B3%E3%83%A1%E3%83%A2%E3%83%AA%E8%BB%A2%E7%BD%AE%E3%82%A4%E3%83%B3%E3%83%87%E3%83%83%E3%82%AF%E3%82%B9",
            "text": "ã‚¤ãƒ³ãƒ¡ãƒ¢ãƒªè»¢ç½®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹",
            "level": 3,
            "children": []
          },
          {
            "id": "%E6%96%87%E6%9B%B8%E3%81%AE%E3%82%B9%E3%82%B3%E3%82%A2%E3%83%AA%E3%83%B3%E3%82%B0",
            "text": "æ–‡æ›¸ã®ã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°",
            "level": 3,
            "children": []
          }
        ]
      },
      {
        "id": "7.%E5%8B%95%E4%BD%9C%E7%A2%BA%E8%AA%8D%E3%83%BB%E3%83%87%E3%83%A2",
        "text": "7.å‹•ä½œç¢ºèªãƒ»ãƒ‡ãƒ¢",
        "level": 1,
        "children": [
          {
            "id": "7.1-%E4%BA%8B%E5%89%8D%E6%BA%96%E5%82%99",
            "text": "7.1 äº‹å‰æº–å‚™",
            "level": 2,
            "children": []
          },
          {
            "id": "7.2-%E3%83%89%E3%83%A9%E3%81%88%E3%82%82%E3%82%93%E3%81%AE%E3%82%B3%E3%83%9F%E3%83%83%E3%82%AF%E3%82%BF%E3%82%A4%E3%83%88%E3%83%AB%E3%82%92%E6%A4%9C%E7%B4%A2%E3%81%99%E3%82%8B",
            "text": "7.2 ãƒ‰ãƒ©ãˆã‚‚ã‚“ã®ã‚³ãƒŸãƒƒã‚¯ã‚¿ã‚¤ãƒˆãƒ«ã‚’æ¤œç´¢ã™ã‚‹",
            "level": 2,
            "children": []
          }
        ]
      },
      {
        "id": "8.%E3%81%BE%E3%81%A8%E3%82%81",
        "text": "8.ã¾ã¨ã‚",
        "level": 1,
        "children": []
      },
      {
        "id": "9.%E5%8F%82%E8%80%83%E6%96%87%E7%8C%AE",
        "text": "9.å‚è€ƒæ–‡çŒ®",
        "level": 1,
        "children": []
      }
    ],
    "toc_enabled": true,
    "should_noindex": false,
    "scheduled_publish_at": null,
    "can_send_badge": true,
    "status": "published",
    "badges": [],
    "is_mine": false,
    "is_preview": false,
    "current_user_liked": false,
    "github_repository": {
      "id": 2031,
      "name": "zenn",
      "full_name": "YadaYuki/zenn",
      "html_url": "https://github.com/YadaYuki/zenn",
      "branch_name": "master",
      "public": true,
      "show_github_link": true
    },
    "github_url": "https://github.com/YadaYuki/zenn/blob/master/articles/7e2c67d8406f0d.md",
    "github_commits_url": "https://github.com/YadaYuki/zenn/commits/master?path=articles/7e2c67d8406f0d.md",
    "github_dev_url": "https://github.dev/YadaYuki/zenn/blob/master/articles/7e2c67d8406f0d.md",
    "user": {
      "id": 13213,
      "username": "yukiyada",
      "name": "çŸ¢ç”°å®™ç”Ÿ / Yada Yuki",
      "avatar_small_url": "https://res.cloudinary.com/zenn/image/fetch/s--lAOvSkVv--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_70/https://storage.googleapis.com/zenn-user-upload/avatar/8fe5f9a7a8.jpeg",
      "avatar_url": "https://storage.googleapis.com/zenn-user-upload/avatar/8fe5f9a7a8.jpeg",
      "bio": "Software Engineer",
      "autolinked_bio": "Software Engineer",
      "github_username": "yadayuki",
      "twitter_username": "arr0w_swe",
      "is_support_open": true,
      "tokusyo_contact": null,
      "tokusyo_name": null,
      "website_url": "https://www.yyada.jp/",
      "website_domain": "yyada.jp",
      "total_liked_count": 655,
      "ga_tracking_id": null,
      "hatena_id": null,
      "is_invoice_issuer": false
    },
    "publication": null,
    "topics": [
      {
        "id": 46,
        "name": "go",
        "display_name": "Go",
        "taggings_count": 3114,
        "image_url": "https://storage.googleapis.com/zenn-user-upload/topics/8b677725c8.png"
      },
      {
        "id": 279,
        "name": "å€‹äººé–‹ç™º",
        "display_name": "å€‹äººé–‹ç™º",
        "taggings_count": 1043,
        "image_url": "https://storage.googleapis.com/zenn-user-upload/topics/604d5b83b5.jpeg"
      },
      {
        "id": 11062,
        "name": "æƒ…å ±æ¤œç´¢",
        "display_name": "æƒ…å ±æ¤œç´¢",
        "taggings_count": 7,
        "image_url": null
      }
    ],
    "comments": [],
    "positive_comments_count": 0,
    "commented_users": []
  }
}
